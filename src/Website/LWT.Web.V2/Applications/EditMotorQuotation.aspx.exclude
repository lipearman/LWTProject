<%@ Page Language="VB" MasterPageFile="~/Applications/AppMasterPage.master" Theme="" AutoEventWireup="false" CodeFile="EditMotorQuotation.aspx.vb" Inherits="Applications_EditMotorQuotation" %>

<asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">


    <script type="text/javascript">
        var keyValue;
        function OnCoverageMoreInfoClick(element, key) {
            callbackCoveragePanel.SetContentHtml("");
            popupCoverageMoreDetails.ShowAtElement(element);
            keyValue = key;
        }
        function popupCoverage_Shown(s, e) {
            callbackCoveragePanel.PerformCallback(keyValue);
        }

        function OnCoverageSelectClick(element, key) {
            //callbackCoveragePanel.SetContentHtml("");
            //popupCoverageMoreDetails.ShowAtElement(element);
            //keyValue = key;
            LoadingPanel.Show();
            //cbSaveNewQuotation.PerformCallback('');

            popupCoverage.Hide();
            frmNewBlank_CallBack.PerformCallback(key);
            //popupNewBlank.Show();
            //alert(key);
        }

        function OnPremiumMoreInfoClick(element, key) {
            callbackPremiumPanel.SetContentHtml("");
            popupPremiumMoreDetails.ShowAtElement(element);
            keyValue = key;
        }
        function popupPremium_Shown(s, e) {
            callbackPremiumPanel.PerformCallback(keyValue);
        }
        function OnPremiumSelectClick(element, key) {
            //callbackCoveragePanel.SetContentHtml("");
            //popupCoverageMoreDetails.ShowAtElement(element);
            //keyValue = key;
            LoadingPanel.Show();
            //cbSaveNewQuotation.PerformCallback('');

            popupPremium.Hide();
            frmNewBlank_CallBack.PerformCallback(key);
            //popupNewBlank.Show();
            //alert(key);
        }
    </script>
    <script type="text/javascript">
        function validatepolicytype() {

            switch (newBlank_PolicyType.GetValue()) {
                case '1'://ประเภท 1
                    newBlank_OD.SetEnabled(true);
                    newBlank_FnT1.SetEnabled(true);
                    newBlank_FnT2.SetEnabled(true);
                    newBlank_Flood.SetEnabled(true);
                    //newBlank_Garage.SetEnabled(true);
                    break;
                case '2':	//ประเภท 2
                    newBlank_OD.SetEnabled(false);
                    newBlank_FnT1.SetEnabled(true);
                    newBlank_FnT2.SetEnabled(true);
                    newBlank_Flood.SetEnabled(false);
                    //newBlank_Garage.SetEnabled(true);
                    break;
                case '3':  //ประเภท 3
                    newBlank_OD.SetEnabled(false);
                    newBlank_FnT1.SetEnabled(false);
                    newBlank_FnT2.SetEnabled(false);
                    newBlank_Flood.SetEnabled(false);
                    //newBlank_Garage.SetEnabled(true);
                    break;
                case '5':  //ประเภท 2 พิเศษ
                    newBlank_OD.SetEnabled(true);
                    newBlank_FnT1.SetEnabled(true);
                    newBlank_FnT2.SetEnabled(true);
                    newBlank_Flood.SetEnabled(false);
                    //newBlank_Garage.SetEnabled(true);
                    break;
                case '4':  //ประเภท 3 พิเศษ
                    newBlank_OD.SetEnabled(true);
                    newBlank_FnT1.SetEnabled(false);
                    newBlank_FnT2.SetEnabled(false);
                    newBlank_Flood.SetEnabled(false);
                    //newBlank_Garage.SetEnabled(true);
                    break;
                default:
                    newBlank_OD.SetEnabled(true);
                    newBlank_FnT1.SetEnabled(true);
                    newBlank_FnT2.SetEnabled(true);
                    newBlank_Flood.SetEnabled(true);
                    //newBlank_Garage.SetEnabled(true);
                    break;
            }

        }


        function CalPremium(Pre_DisCountspacialFlag, DiscountCMIFlag) {


            //============================== สมัครใจ =====================================
            var Pre_Net = newBlank_NetPremium.GetNumber();
            if (Pre_Net == '' || Pre_Net == null) {
                Pre_Net = 0.00;
            }


            var txtStamp = Math.ceil(parseFloat(Pre_Net) * 0.004);
            var txtVat = Math.round((parseFloat(Pre_Net) + parseFloat(txtStamp)) * 7) / 100;
            var Pre_Sum = Math.round(100 * (parseFloat(Pre_Net) + parseFloat(txtStamp) + parseFloat(txtVat))) / 100;

            var Pre_DisCountspacial = 0.000;
            var Discountspacial = 0.000;
            var txtPre_Sum_Dis = 0.00;
            //var Pre_DisCountspacialFlag = newBlank_DiscountspacialFlag.GetValue();

            if (Pre_Net > 0) {

                if (Pre_DisCountspacialFlag == 'P') {
                    Discountspacial = newBlank_DiscountspacialP.GetNumber();
                    if (Discountspacial == '' || Discountspacial == null) {
                        Discountspacial = 0.000;
                    }

                    Pre_DisCountspacial = Math.round(100 * parseFloat(Pre_Net * (Discountspacial / 100))) / 100;
                    txtPre_Sum_Dis = parseFloat(Pre_Net) - parseFloat(Pre_Net * (Discountspacial / 100)) + parseFloat(txtStamp) + parseFloat(txtVat);
                    newBlank_DiscountspacialC.SetNumber(Pre_DisCountspacial);
                }
                else {
                    Discountspacial = newBlank_DiscountspacialC.GetNumber();
                    if (Discountspacial == '' || Discountspacial == null) {
                        Discountspacial = 0.000;
                    }
                    Pre_DisCountspacial = Discountspacial;
                    txtPre_Sum_Dis = parseFloat(Pre_Net) - parseFloat(Discountspacial) + parseFloat(txtStamp) + parseFloat(txtVat);
                    newBlank_DiscountspacialP.SetNumber(parseFloat((Pre_DisCountspacial / Pre_Net) * 100));
                }

            }
            else {
                newBlank_DiscountspacialC.SetNumber(0);
                newBlank_DiscountspacialP.SetNumber(0);
            }


            //newBlank_txtNetPremium.SetText(Pre_Net.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            newBlank_txtStamp.SetText(txtStamp.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            newBlank_txtVat.SetText(txtVat.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            newBlank_txtGrossPremium.SetText(Pre_Sum.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            var Pre_Sum_Dis = Math.round(100 * parseFloat(txtPre_Sum_Dis)) / 100;
            newBlank_txtTotalPremium1.SetText(Pre_Sum_Dis.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));

            //============================== พรบ. =====================================
            var CMINetPremium = newBlank_CMINetPremium.GetText().toString().replace(',', '').replace(',', '').replace(',', '');
            if (CMINetPremium == '' || CMINetPremium == null) {
                CMINetPremium = 0.00;
            }


            var CMIStamp = Math.ceil(CMINetPremium * 0.004);
            var CMIVat = Math.round((parseFloat(CMINetPremium) + parseFloat(CMIStamp)) * 7) / 100;
            var CMIGrossPremium = Math.round(100 * (parseFloat(CMINetPremium) + parseFloat(CMIStamp) + parseFloat(CMIVat))) / 100;

            var txtStick_Sum_Dis = 0.00;
            var DiscountCMI = 0.000;
            var CMI_DisCountspacial = 0.000;
            ////var DiscountCMIFlag = newBlank_DiscountCMIFlag.GetValue();
            if (CMINetPremium > 0) {

                if (DiscountCMIFlag == 'P') {
                    DiscountCMI = newBlank_DiscountCMIP.GetNumber();
                    if (DiscountCMI == '' || DiscountCMI == null) {
                        DiscountCMI = 0.000;
                    }
                    CMI_DisCountspacial = Math.floor(CMINetPremium * (DiscountCMI / 100))
                    txtStick_Sum_Dis = parseFloat(CMINetPremium) - Math.floor(CMINetPremium * (DiscountCMI / 100)) + parseFloat(CMIStamp) + parseFloat(CMIVat)

                    newBlank_DiscountCMIC.SetNumber(CMI_DisCountspacial);
                }
                else {
                    DiscountCMI = newBlank_DiscountCMIC.GetNumber();
                    if (DiscountCMI == '' || DiscountCMI == null) {
                        DiscountCMI = 0.000;
                    }
                    CMI_DisCountspacial = DiscountCMI;
                    txtStick_Sum_Dis = parseFloat(CMINetPremium) - parseFloat(CMI_DisCountspacial) + parseFloat(CMIStamp) + parseFloat(CMIVat);


                    newBlank_DiscountCMIP.SetNumber(parseFloat((CMI_DisCountspacial / CMINetPremium) * 100));
                }
            }
            else {
                newBlank_DiscountCMIP.SetNumber(0);
                newBlank_DiscountCMIC.SetNumber(0);
            }


            newBlank_txtCMIStamp.SetText(CMIStamp.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            newBlank_txtCMIVat.SetText(CMIVat.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            newBlank_txtCMIGrossPremium.SetText(CMIGrossPremium.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
            var Stick_Sum_Dis = Math.round(100 * parseFloat(txtStick_Sum_Dis)) / 100;
            newBlank_txtCMITotalPremium1.SetText(Stick_Sum_Dis.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));


            //=============================== Total Premium
            var TotalPremium = Math.round((parseFloat(Pre_Sum_Dis) + parseFloat(Stick_Sum_Dis)) * 100) / 100
            newBlank_txtTotalPremium.SetText(TotalPremium.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));

        }

    </script>


    <asp:Label runat="server" ID="DiscGroupID" Visible="false"></asp:Label>
    <asp:Label runat="server" ID="QDID_Selected" Visible="false"></asp:Label>

    <%--=== Start datasource=====--%>
    <asp:ObjectDataSource ID="ObjectDataSource_Title" runat="server" SelectMethod="GetTitle" TypeName="MyObjectDataSource"></asp:ObjectDataSource>
    <asp:ObjectDataSource ID="ObjectDataSource_Location" runat="server" SelectMethod="GetLocation" TypeName="MyObjectDataSource"></asp:ObjectDataSource>

    <asp:SqlDataSource ID="SqlDataSource_SP_CompareQuote" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SP_CompareQuote" SelectCommandType="StoredProcedure">
        <SelectParameters>
            <asp:QueryStringParameter DefaultValue="" Name="QuotationNo" QueryStringField="QuotationNo" Type="String" />
        </SelectParameters>
    </asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_Remark" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        InsertCommand="INSERT INTO [tblMotorQuotationRemark] ([QuotationNo], [Remark]) VALUES (@QuotationNo, @Remark)"
        SelectCommand="SELECT * FROM [tblMotorQuotationRemark] WHERE ([QuotationNo] = @QuotationNo) ORDER BY [ID]"
        DeleteCommand="DELETE FROM [tblMotorQuotationRemark] WHERE [ID] = @ID"
        UpdateCommand="UPDATE [tblMotorQuotationRemark] SET [Remark] = @Remark WHERE [ID] = @ID">
        <DeleteParameters>
            <asp:Parameter Name="ID" Type="Int32" />
        </DeleteParameters>
        <InsertParameters>
            <asp:Parameter Name="QuotationNo" Type="String" />
            <asp:Parameter Name="Remark" Type="String" />
        </InsertParameters>
        <SelectParameters>
            <%-- <asp:ControlParameter ControlID="editQuotationNo" Name="QuotationNo" PropertyName="Text" Type="String" />--%>

            <asp:QueryStringParameter QueryStringField="QuotationNo" Name="QuotationNo" />
        </SelectParameters>

        <UpdateParameters>
            <asp:Parameter Name="Remark" Type="String" />
            <asp:Parameter Name="ID" Type="Int32" />
        </UpdateParameters>

    </asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_Discussion" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        InsertCommand="INSERT INTO [tblDiscussionTrans] ([DiscGroupID], [IDCodeData], [DiscNote], [UserRec], [DateRec]) VALUES (@DiscGroupID, @IDCodeData, @DiscNote, @UserRec, @DateRec)"
        SelectCommand="SELECT * FROM [tblDiscussionTrans] WHERE isnull([DiscGroupID],'') <> '' and ([DiscGroupID] = @DiscGroupID) order by DateRec desc ">
        <InsertParameters>
            <asp:Parameter Name="DiscGroupID" Type="String" />
            <asp:Parameter Name="IDCodeData" Type="String" />
            <asp:Parameter Name="DiscNote" Type="String" />
            <asp:Parameter Name="UserRec" Type="String" />
            <asp:Parameter Name="DateRec" Type="DateTime" />
        </InsertParameters>
        <SelectParameters>
            <asp:ControlParameter ControlID="DiscGroupID" DefaultValue=" " Name="DiscGroupID" PropertyName="Text" Type="String" />
        </SelectParameters>

    </asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_CarBrand" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        SelectCommand="SELECT ID, Name FROM tblCarBrandModel where ParentID is null  order by Name "></asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_CarModel" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        SelectCommand="SELECT ID, Name FROM tblCarBrandModel where ParentID is not null and ParentID=?  order by Name ">
        <SelectParameters>
            <asp:Parameter Name="?" />
        </SelectParameters>
    </asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_Client" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"></asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_CarType" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SELECT * FROM [tblCarType]"></asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_CarUse" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SELECT CarUse, txtCarUse FROM tblCarUse WHERE (CarUse LIKE @Param1 + '%')">
        <SelectParameters>
            <asp:Parameter Name="Param1" DefaultValue="-1" Type="String" />
        </SelectParameters>
    </asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_CMI" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SELECT ' ' as CMI_PremiumCode, 'ไม่ระบุ' as CMI_Description union SELECT CMI_PremiumCode, CMI_Description FROM tblCMIPremium WHERE (CarUse = @Param1)">
        <SelectParameters>
            <asp:Parameter Name="Param1" DefaultValue="" Type="String" />
        </SelectParameters>
    </asp:SqlDataSource>

    <asp:SqlDataSource ID="SqlDataSource_TPBIP" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="select 0 as Coverage union  SELECT Coverage FROM tblCoverListMaster where CoverType='TPBIP' order by Coverage "></asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_TPBIT" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="select 0 as Coverage union SELECT Coverage FROM tblCoverListMaster where CoverType='TPBIT' order by Coverage "></asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_TPPD" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="select 0 as Coverage union SELECT Coverage FROM tblCoverListMaster where CoverType='TPPD' order by Coverage "></asp:SqlDataSource>
    <asp:SqlDataSource ID="SqlDataSource_RY02" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="select 0 as Coverage union SELECT Coverage FROM tblCoverListMaster where CoverType='RY02' order by Coverage "></asp:SqlDataSource>

    <%--=== end datasource=====--%>

    <dx:ASPxButton ID="btnBack" runat="server" RenderMode="Button"
        Width="90px" Text="กลับไปหน้าเสนอราคา" AutoPostBack="true" CausesValidation="false">
        <Image IconID="navigation_home_16x16"></Image>
        <ClientSideEvents Click="function(s, e) {
                                        LoadingPanel.Show();
                                    }" />
    </dx:ASPxButton>

    <dx:ASPxButton ID="btnDuplicate" runat="server" Text="Re-Quote" CausesValidation="False">
        <Image IconID="edit_copy_16x16"></Image>
        <ClientSideEvents Click="function(s, e) {
                                        e.processOnServer = false;
                                        if(confirm('ยืนยันการ Re-Quote')) { LoadingPanel.Show();e.processOnServer = true};
                                    }" />
    </dx:ASPxButton>

    <dx:ASPxButton ID="btnCancel" runat="server" Text="ยกเลิกใบเสนอราคา" CausesValidation="False" Visible="false">
        <Image IconID="edit_delete_16x16"></Image>
        <ClientSideEvents Click="function(s, e) {
                                        e.processOnServer = false;
                                        if(confirm('ยืนยันการ ยกเลิกใบเสนอราคา')) { LoadingPanel.Show();e.processOnServer = true};
                                    }" />
    </dx:ASPxButton>

    <div class="dxhlControl_MetropolisBlue" id="ASPxHeadline1">
        <div class="dxhlHeader_MetropolisBlue" style="margin-bottom: 4px;">
            ข้อมูลเสนอราคา
        </div>
    </div>

    <dx:ASPxFormLayout ID="frmEditTitle" runat="server" Paddings-Padding="0" AlignItemCaptionsInAllGroups="True" ColCount="4" RequiredMarkDisplayMode="None" ShowItemCaptionColon="true">
        <Items>
            <dx:LayoutGroup ShowCaption="False" GroupBoxDecoration="None" CellStyle-Paddings-Padding="0">
                <Items>
                    <dx:LayoutItem Caption="เลขที่เสนอราคา" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer1" runat="server" SupportsDisabledAttribute="True">
                                <dx:ASPxLabel ID="editQuotationNo" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" GroupBoxDecoration="None" CellStyle-Paddings-Padding="0">
                <Items>
                    <dx:LayoutItem Caption="Confirm Code" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer11" runat="server" SupportsDisabledAttribute="True">

                                <dx:ASPxLabel ID="editConfirmCode" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" CellStyle-Paddings-Padding="0" GroupBoxDecoration="None">
                <Items>

                    <dx:LayoutItem Caption="ReferenceNo" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer12" runat="server" SupportsDisabledAttribute="True">

                                <dx:ASPxLabel ID="editReferenceNo" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" CellStyle-Paddings-Padding="0" GroupBoxDecoration="None">
                <Items>
                    <dx:LayoutItem Caption="สถานะ" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer13" runat="server" SupportsDisabledAttribute="True">
                                <dx:ASPxLabel ID="editQuotationStatus" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" CellStyle-Paddings-Padding="0" GroupBoxDecoration="None">
                <Items>
                    <dx:LayoutItem Caption="ผู้ทำรายการ" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer8" runat="server" SupportsDisabledAttribute="True">
                                <dx:ASPxLabel ID="editUserRec" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" CellStyle-Paddings-Padding="0" GroupBoxDecoration="None">
                <Items>
                    <dx:LayoutItem Caption="วันที่ทำรายการ" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer24" runat="server" SupportsDisabledAttribute="True">
                                <dx:ASPxLabel ID="editDateRec" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" CellStyle-Paddings-Padding="0" GroupBoxDecoration="None">
                <Items>
                    <dx:LayoutItem Caption="ผู้ปรับปรุงล่าสุด" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer25" runat="server" SupportsDisabledAttribute="True">
                                <dx:ASPxLabel ID="editUserUpdate" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
            <dx:LayoutGroup ShowCaption="False" CellStyle-Paddings-Padding="0" GroupBoxDecoration="None">
                <Items>
                    <dx:LayoutItem Caption="วันที่ปรับปรุงล่าสุด" CaptionStyle-Font-Bold="true">
                        <LayoutItemNestedControlCollection>
                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer26" runat="server" SupportsDisabledAttribute="True">
                                <dx:ASPxLabel ID="editDateUpdate" runat="server" Text=""></dx:ASPxLabel>
                            </dx:LayoutItemNestedControlContainer>
                        </LayoutItemNestedControlCollection>
                    </dx:LayoutItem>
                </Items>
            </dx:LayoutGroup>
        </Items>
    </dx:ASPxFormLayout>




    <dx:ASPxPageControl ID="carTabPage" runat="server" ActiveTabIndex="1" EnableHierarchyRecreation="True" TabPosition="Left">
        <TabPages>
            <dx:TabPage Text="1.ข้อมูลลูกค้า" TabStyle-HorizontalAlign="Left">
                <ContentCollection>
                    <dx:ContentControl ID="ContentControl1" runat="server">
                        <dx:ASPxRoundPanel ID="ASPxRoundPanel1" ContentPaddings-Padding="0" ClientInstanceName="roundPanel" EnableAnimation="true" ShowCollapseButton="false" AllowCollapsingByHeaderClick="false" HeaderText="1.ข้อมูลลูกค้า" runat="server" Width="100%">

                            <PanelCollection>
                                <dx:PanelContent>

                                    <dx:ASPxPageControl runat="server" ID="ASPxPageControl1" Paddings-Padding="0" Width="100%">
                                        <TabPages>

                                            <dx:TabPage Text="รายละเอียดลูกค้า" Visible="true">
                                                <ContentCollection>

                                                    <dx:ContentControl ID="ContentControl2" runat="server">

                                                        <dx:ASPxCallbackPanel ID="frmEditQuotation_CallBack" ClientInstanceName="frmEditQuotation_CallBack" runat="server"
                                                            Width="320px" Height="100px" RenderMode="Table">
                                                            <PanelCollection>
                                                                <dx:PanelContent ID="PanelContent3" runat="server">

                                                                    <%--Start frmEditQuotation  --%>
                                                                    <dx:ASPxFormLayout ID="frmEditQuotation" Paddings-Padding="0" runat="server" AlignItemCaptionsInAllGroups="True" ColCount="3" RequiredMarkDisplayMode="None" ShowItemCaptionColon="False">
                                                                        <Items>
                                                                            <dx:LayoutGroup CellStyle-Paddings-Padding="0" Caption="รายละเอียดลูกค้า" GroupBoxDecoration="HeadingLine" Width="330px">
                                                                                <Items>
                                                                                    <dx:LayoutItem Caption="คำนำหน้า">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer18" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxComboBox ID="editCustTitleName" runat="server" Width="230"
                                                                                                    DropDownStyle="DropDownList"
                                                                                                    DataSourceID="ObjectDataSource_Title"
                                                                                                    TextField="ITEM_DESC_TH"
                                                                                                    ValueField="ITEM_DESC_TH" ValueType="System.String"
                                                                                                    AllowMouseWheel="false" DropDownButton-Visible="false"
                                                                                                    NullText="คำนำหน้า"
                                                                                                    IncrementalFilteringMode="StartsWith">
                                                                                                    <ItemStyle Border-BorderStyle="None">
                                                                                                        <border borderstyle="None"></border>
                                                                                                    </ItemStyle>
                                                                                                    <ClearButton Visibility="True"></ClearButton>
                                                                                                </dx:ASPxComboBox>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ชื่อลูกค้า">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer
                                                                                                ID="LayoutItemNestedControlContainer23"
                                                                                                runat="server"
                                                                                                SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCustName" runat="server" CaptionSettings-RequiredMarkDisplayMode="Hidden"
                                                                                                    Width="230" MaxLength="255">
                                                                                                    <ValidationSettings ErrorDisplayMode="ImageWithTooltip" Display="Dynamic">
                                                                                                        <RequiredField IsRequired="True" />
                                                                                                    </ValidationSettings>
                                                                                                    <InvalidStyle BackColor="LightPink" />
                                                                                                </dx:ASPxTextBox>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ประเภทบัตร">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer3" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxRadioButtonList TextWrap="false" ClientInstanceName="editCustIDCardsType" ID="editCustIDCardsType" runat="server" TextAlign="Right" RepeatDirection="Horizontal">

                                                                                                    <%-- <ClientSideEvents SelectedIndexChanged="function(s, e) {
	                                                                           editCustIDCards.SetValue(s.GetSelectedItem().text);
                                                                            }" />--%>

                                                                                                    <Items>
                                                                                                        <dx:ListEditItem Text="บัตรประชาชน" Value="1" />
                                                                                                        <dx:ListEditItem Text="หนังสือเดินทาง" Value="2" />
                                                                                                        <dx:ListEditItem Text="อื่นๆ" Value="3" />
                                                                                                    </Items>
                                                                                                    <Border BorderStyle="None" />

                                                                                                </dx:ASPxRadioButtonList>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="เลขที่บัตร" Height="16">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer4" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCustIDCards" Width="250" runat="server" MaxLength="50" ClientInstanceName="editCustIDCards">
                                                                                                </dx:ASPxTextBox>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ที่อยู่">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer6" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox Width="250" ID="editCustAddress" runat="server" MaxLength="255" />
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer5" runat="server" SupportsDisabledAttribute="True">

                                                                                                <dx:ASPxComboBox ID="editLOCATION_CODE" runat="server" Width="250" DropDownWidth="300"
                                                                                                    AllowMouseWheel="false" DropDownButton-Visible="false"
                                                                                                    DropDownStyle="DropDown" DataSourceID="ObjectDataSource_Location" ValueField="LOCATION_CODE"
                                                                                                    ValueType="System.String" TextFormatString="{0}" EnableCallbackMode="true" IncrementalFilteringMode="Contains"
                                                                                                    CallbackPageSize="30">
                                                                                                    <ClearButton Visibility="True"></ClearButton>
                                                                                                    <ItemStyle Border-BorderStyle="None">
                                                                                                        <border borderstyle="None"></border>
                                                                                                    </ItemStyle>
                                                                                                    <Columns>
                                                                                                        <dx:ListBoxColumn FieldName="LOCATION_NAME" Caption="ค้นหาที่อยู่" />
                                                                                                    </Columns>
                                                                                                </dx:ASPxComboBox>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="โทรศัพท์">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer2" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCustTelNo" Width="250" runat="server" MaxLength="255">
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="อีเมล์">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer9" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCustEmail" Width="250" runat="server" MaxLength="255">
                                                                                                    <ValidationSettings SetFocusOnError="True" Display="Dynamic" ErrorTextPosition="Right">
                                                                                                        <RegularExpression ErrorText="" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" />
                                                                                                    </ValidationSettings>
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="แฟกซ์">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer7" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCustFaxNo" Width="250" runat="server" MaxLength="50">
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                </Items>
                                                                            </dx:LayoutGroup>
                                                                            <dx:LayoutGroup Caption="รายละเอียดรถ" CellStyle-Paddings-Padding="0" GroupBoxDecoration="HeadingLine" Width="330px">
                                                                                <Items>
                                                                                    <dx:LayoutItem Caption="ยี่ห้อ">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer15" runat="server" SupportsDisabledAttribute="True">

                                                                                                <dx:ASPxComboBox runat="server"
                                                                                                    ID="editCarBrand" ClientInstanceName="editCarBrand"
                                                                                                    AllowMouseWheel="false" DropDownButton-Visible="false"
                                                                                                    DropDownStyle="DropDownList"
                                                                                                    IncrementalFilteringMode="StartsWith"
                                                                                                    DataSourceID="SqlDataSource_CarBrand"
                                                                                                    EnableSynchronization="False"
                                                                                                    TextField="Name"
                                                                                                    ValueField="ID"
                                                                                                    Enablecallback="true">
                                                                                                    <ClientSideEvents SelectedIndexChanged="function(s, e) {                                                                                
                                                                                //editCarModel.PerformCallback(s.GetValue().toString());
                                                                                        frmEditQuotation_CallBack.PerformCallback('selected_carbrand');
                                                                                    }" />
                                                                                                </dx:ASPxComboBox>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="รุ่น">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer10" runat="server" SupportsDisabledAttribute="True">

                                                                                                <dx:ASPxComboBox runat="server"
                                                                                                    ID="editCarModel"
                                                                                                    AllowMouseWheel="false" DropDownButton-Visible="false"
                                                                                                    ClientInstanceName="editCarModel"
                                                                                                    TextField="Name"
                                                                                                    ValueField="ID"
                                                                                                    IncrementalFilteringMode="StartsWith"
                                                                                                    EnableSynchronization="False"
                                                                                                    DropDownStyle="DropDownList">
                                                                                                </dx:ASPxComboBox>

                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>


                                                                                    <dx:LayoutItem Caption="แบบ">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer20" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCarSubModelName" runat="server" MaxLength="255">
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ทุน">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer21" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxSpinEdit ID="editCarSuminsured"
                                                                                                    AllowMouseWheel="false" SpinButtons-ShowIncrementButtons="false"
                                                                                                    runat="server"
                                                                                                    MaxLength="10"
                                                                                                    DisplayFormatString="#,#0"
                                                                                                    Increment="10000" NumberType="Integer"
                                                                                                    MinValue="0">
                                                                                                </dx:ASPxSpinEdit>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ปีรถ">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer19" runat="server" SupportsDisabledAttribute="True">

                                                                                                <dx:ASPxSpinEdit ID="editCarReg" runat="server" MaxLength="4"
                                                                                                    AllowMouseWheel="false" SpinButtons-ShowIncrementButtons="false"
                                                                                                    Increment="1" NumberType="Integer"
                                                                                                    MinValue="0">
                                                                                                </dx:ASPxSpinEdit>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ทะเบียน">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer14" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCarId" runat="server" MaxLength="50" />
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="เลขเครื่อง">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer17" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCarEngineNo" runat="server" MaxLength="255">
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="เลขถัง">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer16" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCarChassisNo" runat="server" MaxLength="50">
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                    <dx:LayoutItem Caption="ขนาด">
                                                                                        <LayoutItemNestedControlCollection>
                                                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer22" runat="server" SupportsDisabledAttribute="True">
                                                                                                <dx:ASPxTextBox ID="editCarSize" runat="server" MaxLength="50">
                                                                                                </dx:ASPxTextBox>
                                                                                            </dx:LayoutItemNestedControlContainer>
                                                                                        </LayoutItemNestedControlCollection>
                                                                                    </dx:LayoutItem>
                                                                                </Items>
                                                                            </dx:LayoutGroup>
                                                                            <%--  <dx:LayoutGroup Caption="ประเภทรถ" GroupBoxDecoration="HeadingLine" Width="330px">
                                                    <Items>
                                                    </Items>
                                                </dx:LayoutGroup>--%>
                                                                        </Items>
                                                                    </dx:ASPxFormLayout>
                                                                    <%--End frmEditQuotation  --%>
                                                                </dx:PanelContent>
                                                            </PanelCollection>
                                                        </dx:ASPxCallbackPanel>

                                                        <dx:ASPxButton ID="btnSaveQuotation" runat="server" Text="บันทึกข้อมูลลูกค้า" AutoPostBack="false" CausesValidation="true">
                                                            <Image IconID="save_save_16x16"></Image>
                                                            <%--<ClientSideEvents Click="function(s, e) {if(ASPxClientEdit.AreEditorsValid()) { LoadingPanel.Show();}}" />--%>
                                                        </dx:ASPxButton>



                                                    </dx:ContentControl>
                                                </ContentCollection>
                                            </dx:TabPage>


                                            <dx:TabPage Text="บันทึกการสนทนา" Visible="true">
                                                <ContentCollection>
                                                    <dx:ContentControl ID="ContentControl3" runat="server">
                                                        <dx:ASPxGridView ID="SubNoteGrid" runat="server" DataSourceID="SqlDataSource_Discussion"
                                                            KeyFieldName="TransID" Width="100%"
                                                            OnBeforePerformDataSelect="SubNoteGrid_DataSelect"
                                                            OnRowInserting="SubNoteGrid_RowInserting">
                                                            <Columns>
                                                                <dx:GridViewCommandColumn Width="50" ShowNewButtonInHeader="true" ShowEditButton="false" VisibleIndex="0" />
                                                                <dx:GridViewDataColumn FieldName="DateRec" Caption="วันที่บันทึก" Width="100" VisibleIndex="1" />
                                                                <dx:GridViewDataColumn FieldName="UserRec" Caption="ผู้บันทึก" Width="100" VisibleIndex="2" />
                                                                <dx:GridViewDataColumn FieldName="DiscNote" Caption="ข้อความ" VisibleIndex="3" />

                                                            </Columns>
                                                            <Templates>
                                                                <EditForm>

                                                                    <dx:ASPxMemo runat="server" ID="DiscNote" ValidationSettings-ErrorDisplayMode="Text"
                                                                        Text='<%# Bind("DiscNote")%>'
                                                                        ValidationSettings-ValidationGroup="<%# Container.ValidationGroup %>"
                                                                        Width="100%">
                                                                        <ValidationSettings Display="Dynamic" ErrorTextPosition="Left">
                                                                            <RequiredField IsRequired="true" ErrorText="*โปรดระบุข้อความ" />
                                                                        </ValidationSettings>
                                                                    </dx:ASPxMemo>
                                                                    <div style="text-align: left; padding: 2px">
                                                                        <dx:ASPxGridViewTemplateReplacement ID="UpdateButton" ReplacementType="EditFormUpdateButton"
                                                                            runat="server"></dx:ASPxGridViewTemplateReplacement>
                                                                        <dx:ASPxGridViewTemplateReplacement ID="CancelButton" ReplacementType="EditFormCancelButton"
                                                                            runat="server"></dx:ASPxGridViewTemplateReplacement>
                                                                    </div>
                                                                </EditForm>

                                                            </Templates>

                                                            <Settings ShowColumnHeaders="true" ShowGroupPanel="false" />
                                                            <SettingsBehavior AllowSort="false" />
                                                            <SettingsPager PageSize="5">
                                                                <PageSizeItemSettings Visible="true" Items="5, 10, 20" ShowAllItem="true" />
                                                            </SettingsPager>

                                                            <%--  <SettingsCommandButton>

                                            <NewButton Text="เพิ่มข้อความ" ButtonType="Button">
                                                <Image ToolTip="เพิ่มข้อความ" IconID="actions_add_16x16" AlternateText="เพิ่มข้อความ" />
                                            </NewButton>
                                            <UpdateButton Text="บันทึก" ButtonType="Button">
                                                <Image ToolTip="บันทึก" IconID="save_save_16x16" AlternateText="บันทึก" />
                                            </UpdateButton>
                                            <CancelButton Text="ยกเลิก" ButtonType="Button">
                                                <Image ToolTip="ยกเลิก" IconID="edit_delete_16x16" AlternateText="ยกเลิก" />

                                            </CancelButton>

                                        </SettingsCommandButton>--%>
                                                        </dx:ASPxGridView>
                                                    </dx:ContentControl>
                                                </ContentCollection>
                                            </dx:TabPage>


                                            <dx:TabPage Text="ต่ออายุ" Visible="false">
                                            </dx:TabPage>
                                            <dx:TabPage Text="สลักหลัง" Visible="false">
                                            </dx:TabPage>
                                            <dx:TabPage Text="การชำระเงิน" Visible="false">
                                            </dx:TabPage>
                                            <dx:TabPage Text="ประวัติเคลม" Visible="false">
                                            </dx:TabPage>
                                            <dx:TabPage Text="ส่วนของเจ้าหน้าที่" Visible="false">
                                            </dx:TabPage>
                                        </TabPages>





                                    </dx:ASPxPageControl>
                                </dx:PanelContent>
                            </PanelCollection>
                        </dx:ASPxRoundPanel>


                    </dx:ContentControl>
                </ContentCollection>
            </dx:TabPage>
            <dx:TabPage Text="2.ข้อเสนอเปรียบเทียบ" TabStyle-HorizontalAlign="Left">
                <ContentCollection>
                    <dx:ContentControl ID="ContentControl4" runat="server">
                        <dx:ASPxRoundPanel ID="ASPxRoundPanel2" ClientInstanceName="roundPanel" EnableAnimation="true"
                            ShowCollapseButton="false" AllowCollapsingByHeaderClick="false" ContentPaddings-Padding="0" CollapseButtonStyle-Paddings-Padding="0"
                            HeaderText="2.ข้อเสนอเปรียบเทียบ" runat="server" Width="100%">
                            <PanelCollection>
                                <dx:PanelContent>


                                    <dx:ASPxMenu ID="ASPxMenuCompareQuote" ClientInstanceName="ASPxMenuCompareQuote" runat="server">
                                        <ClientSideEvents ItemClick="function(s, e) {
                                                 
                                                    e.processOnServer = false;
                                                    switch (e.item.index)
                                                    {
                                                         
                                                        case 0: //เพิ่มข้อเสนอแบบ New Blank
                                                            
                                                             SELECTED_ID.Set('hidden_value', '');
                                                             popupNewBlank.Show(); 
                                                             frmNewBlank_CallBack.PerformCallback(SELECTED_ID.Get('hidden_value'));                                                               
                                                             e.processOnServer = false;     
                                                                                                    
                                                            break;
                                                        case 1: //เพิ่มข้อเสนอตามความคุ้มครอง
                                                            popupCoverage.Show();
                                                            dgCoverage.Refresh();
                                                            e.processOnServer = false; 
                                                            break;
                                                        case 2: //เพิ่มข้อเสนอตามแผน(มีเบี้ย)
                                                            popupPremium.Show();
                                                            dgPremium.Refresh();
                                                            e.processOnServer = false;
                                                            break;
                                                    
                                                    }
                                                
                                                }" />
                                        <Items>

                                            <dx:MenuItem Text="เพิ่มข้อเสนอแบบ New Blank">
                                                <Image IconID="reports_addfooter_16x16"></Image>
                                            </dx:MenuItem>
                                            <dx:MenuItem Text="เพิ่มข้อเสนอตามความคุ้มครอง">
                                                <Image IconID="reports_addgroupfooter_16x16"></Image>
                                            </dx:MenuItem>
                                            <dx:MenuItem Text="เพิ่มข้อเสนอตามแผน(มีเบี้ย)">

                                                <Image IconID="reports_addheader_16x16"></Image>
                                            </dx:MenuItem>


                                        </Items>
                                    </dx:ASPxMenu>
                                    <br />
                                    <%--OnHtmlDataCellPrepared="SubQuoteGrid_HtmlDataCellPrepared"--%>
                                    <%-- OnHtmlRowCreated="SubQuoteGrid_HtmlRowCreated"--%>
                                    <dx:ASPxGridView ID="SubQuoteGrid" runat="server"
                                        DataSourceID="SqlDataSource_SP_CompareQuote"
                                        AutoGenerateColumns="true"
                                        ClientInstanceName="SubQuoteGrid"
                                        KeyFieldName="QuotationNo"
                                        OnHtmlRowPrepared="SubQuoteGrid_HtmlRowCreated"
                                        OnDataBound="SubQuoteGrid_DataBound"
                                        EnableCallBacks="true"
                                        ViewStateMode="Disabled">


                                        <SettingsPager PageSize="35" />
                                        <SettingsBehavior AllowDragDrop="false" AllowSort="false" EnableCustomizationWindow="true" EnableRowHotTrack="true" ProcessSelectionChangedOnServer="True" />
                                        <Settings ShowFilterRowMenu="false" ShowGroupPanel="false" />
                                        <SettingsDataSecurity AllowDelete="false" AllowEdit="false" AllowInsert="false" />
                                        <SettingsSearchPanel Visible="false" />
                                        <SettingsPager Visible="false"></SettingsPager>

                                        <%--<Styles> <AlternatingRow Enabled="true" /> </Styles>--%>
                                    </dx:ASPxGridView>


                                    <br />
                                    <%--                <dx:ASPxButton ID="btnPrintQuote" runat="server" Text="พิมพ์ใบแจ้งงาน" CausesValidation="False">
                    <Image IconID="print_print_16x16"></Image>
                </dx:ASPxButton>--%>

                                    <dx:ASPxButton ID="btnPrintQuote" runat="server" Text="พิมพ์ใบแจ้งงาน" CausesValidation="False">
                                        <Image IconID="print_print_16x16"></Image>
                                        <ClientSideEvents Click="function(s,e){LoadingPanel.Show();cbPrintQuote.PerformCallback(''); e.processOnServer = false; }" />
                                    </dx:ASPxButton>


                                    <dx:ASPxCallback runat="server" ID="cbPrintQuote" ClientInstanceName="cbPrintQuote">
                                        <ClientSideEvents CallbackComplete="function(s,e){
                                LoadingPanel.Hide();
                                if (e.result != '' && e.result != null) {
                                   window.open('PDFViewer.aspx?id=' + e.result,'ViewDiscussion','fullscreen=yes');                
                                } 
                            }" />
                                    </dx:ASPxCallback>

                                    <dx:ASPxButton ID="ASPxButton1" runat="server" Text="พิมพ์บันทึกการสนทนา" CausesValidation="False">
                                        <Image IconID="print_print_16x16"></Image>
                                    </dx:ASPxButton>
                                </dx:PanelContent>
                            </PanelCollection>
                        </dx:ASPxRoundPanel>


                    </dx:ContentControl>
                </ContentCollection>
            </dx:TabPage>
            <dx:TabPage Text="3.หมายเหตุ" TabStyle-HorizontalAlign="Left">
                <ContentCollection>
                    <dx:ContentControl ID="ContentControl5" runat="server">
                        <dx:ASPxRoundPanel ID="ASPxRoundPanel3" ClientInstanceName="roundPanel" EnableAnimation="true"
                            ShowCollapseButton="false" AllowCollapsingByHeaderClick="false" ContentPaddings-Padding="0" CollapseButtonStyle-Paddings-Padding="0"
                            HeaderText="3.หมายเหตุ" runat="server" Width="100%">
                            <ContentPaddings Padding="0px"></ContentPaddings>

                            <CollapseButtonStyle>
                                <Paddings Padding="0px"></Paddings>
                            </CollapseButtonStyle>
                            <PanelCollection>
                                <dx:PanelContent>




                                    <dx:ASPxGridView ID="RemarkGrid" runat="server" DataSourceID="SqlDataSource_Remark"
                                        KeyFieldName="ID" Width="100%"
                                        OnBeforePerformDataSelect="SubNoteGrid_DataSelect"
                                        OnRowInserting="SubNoteGrid_RowInserting">
                                        <Columns>
                                            <dx:GridViewCommandColumn Width="50" ShowNewButtonInHeader="true" ShowEditButton="true" VisibleIndex="0" />

                                            <dx:GridViewDataTextColumn FieldName="ID" ReadOnly="True" ShowInCustomizationForm="True" VisibleIndex="0">
                                                <EditFormSettings Visible="False" />
                                            </dx:GridViewDataTextColumn>
                                            <dx:GridViewDataTextColumn FieldName="QuotationNo" ShowInCustomizationForm="True" VisibleIndex="1">
                                            </dx:GridViewDataTextColumn>
                                            <dx:GridViewDataTextColumn FieldName="Remark" ShowInCustomizationForm="True" VisibleIndex="2">
                                            </dx:GridViewDataTextColumn>

                                        </Columns>
                                        <Templates>
                                            <EditForm>

                                                <dx:ASPxMemo runat="server" ID="Remark" ValidationSettings-ErrorDisplayMode="Text"
                                                    Text='<%# Bind("Remark")%>'
                                                    ValidationSettings-ValidationGroup="<%# Container.ValidationGroup %>"
                                                    Width="100%">
                                                    <ValidationSettings Display="Dynamic" ErrorTextPosition="Left">
                                                        <RequiredField IsRequired="true" ErrorText="*โปรดระบุข้อความ" />
                                                    </ValidationSettings>
                                                </dx:ASPxMemo>
                                                <div style="text-align: left; padding: 2px">
                                                    <dx:ASPxGridViewTemplateReplacement ID="UpdateButton" ReplacementType="EditFormUpdateButton"
                                                        runat="server"></dx:ASPxGridViewTemplateReplacement>
                                                    <dx:ASPxGridViewTemplateReplacement ID="CancelButton" ReplacementType="EditFormCancelButton"
                                                        runat="server"></dx:ASPxGridViewTemplateReplacement>
                                                </div>
                                            </EditForm>

                                        </Templates>

                                        <Settings ShowColumnHeaders="true" ShowGroupPanel="false" />
                                        <SettingsBehavior AllowSort="false" />
                                        <SettingsPager PageSize="5">
                                            <PageSizeItemSettings Visible="true" Items="5, 10, 20" ShowAllItem="true" />
                                        </SettingsPager>

                                        <%-- <SettingsCommandButton>

                        <NewButton Text="เพิ่มข้อความ" ButtonType="Button">
                            <Image ToolTip="เพิ่มข้อความ" IconID="actions_add_16x16" AlternateText="เพิ่มข้อความ" />
                        </NewButton>
                        <UpdateButton Text="บันทึก" ButtonType="Button">
                            <Image ToolTip="บันทึก" IconID="save_save_16x16" AlternateText="บันทึก" />
                        </UpdateButton>
                        <CancelButton Text="ยกเลิก" ButtonType="Button">
                            <Image ToolTip="ยกเลิก" IconID="edit_delete_16x16" AlternateText="ยกเลิก" />

                        </CancelButton>

                    </SettingsCommandButton>--%>
                                    </dx:ASPxGridView>
                                </dx:PanelContent>
                            </PanelCollection>
                        </dx:ASPxRoundPanel>


                    </dx:ContentControl>
                </ContentCollection>
            </dx:TabPage>
        </TabPages>
    </dx:ASPxPageControl>





    <dx:ASPxPopupControl ID="popupNewBlank"
        ClientInstanceName="popupNewBlank"
        runat="server"
        Modal="True"
        PopupHorizontalAlign="WindowCenter"
        PopupVerticalAlign="WindowCenter"
        HeaderText="ใบเสนอราคา"
        ShowPageScrollbarWhenModal="true"
        Width="400"
        AllowDragging="true"
        EnableAnimation="true"
        EnableCallbackAnimation="true"
        EnableViewState="true"
        CloseAction="CloseButton">
        <ContentCollection>
            <dx:PopupControlContentControl ID="PopupControlContentControl2" runat="server">
                <asp:SqlDataSource ID="SqlDataSource_PolicyType" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SELECT * FROM tblPolicyType order by ShowID"></asp:SqlDataSource>
                <asp:SqlDataSource ID="SqlDataSource_Garage" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SELECT * FROM tblGarageType order by ShowID"></asp:SqlDataSource>
                <asp:SqlDataSource ID="SqlDataSource_Insurer" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="SELECT rtrim(Underwriter) as Underwriter, rtrim(AccountContact) as AccountContact  FROM [Register.Unwriter] where rtrim(AccountContact) <> '' AND Underwriter IN(SELECT Underwriter FROM V_MotorPremium) order by [AccountContact]"></asp:SqlDataSource>


                <dx:ASPxCallbackPanel ID="frmNewBlank_CallBack" ClientInstanceName="frmNewBlank_CallBack" runat="server"
                    Width="320px" Height="100px" RenderMode="Table">
                    <ClientSideEvents
                        EndCallback="function(s, e) {

                             
                             
                                var errText = s.cpError;
                                if (errText != '')
                                    {
                                         alert(errText);
                                    }
                                else
                                    {
                                        popupNewBlank.Show();
                                    }

                              var CarUseText = s.cpCarUse;
                                if (CarUseText != '')
                                {
                                    newBlank_CarType.SetEnabled(false);  
                                    newBlank_CarUse.SetEnabled(false); 
                                }
                                else
                                {
                                    newBlank_CarType.SetEnabled(true);  
                                    newBlank_CarUse.SetEnabled(true);
                                }
                                LoadingPanel.Hide();
                                CalPremium('C','C');

                            }" />
                    <PanelCollection>
                        <dx:PanelContent ID="PanelContent2" runat="server">
                            <%--<dx:ASPxLabel ID="SELECTED_ID" ClientInstanceName="SELECTED_ID" Visible="false" runat="server" Text=""></dx:ASPxLabel>--%>
                            <dx:ASPxHiddenField runat="server" ID="SELECTED_ID" ClientInstanceName="SELECTED_ID"></dx:ASPxHiddenField>
                            <%--Start frmNewBlank  --%>
                            <dx:ASPxFormLayout ID="frmNewBlank" Width="600" runat="server" ColCount="1" RequiredMarkDisplayMode="None" ShowItemCaptionColon="true">
                                <Items>

                                    <%-- ข้อมูลการประกันภัย--%>
                                    <dx:LayoutGroup Caption="ข้อมูลการประกันภัย" Width="700" ColCount="2" AlignItemCaptions="true" GroupBoxDecoration="HeadingLine" CellStyle-Paddings-Padding="1">
                                        <Items>
                                            <dx:LayoutItem Caption="บริษัทประกัน" Width="300">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer28" runat="server" SupportsDisabledAttribute="True">
                                                        <dx:ASPxComboBox runat="server"
                                                            ID="newBlank_Insurer" DropDownButton-Visible="false"
                                                            DataSourceID="SqlDataSource_Insurer"
                                                            SelectedIndex="0"
                                                            TextField="AccountContact"
                                                            ValueField="Underwriter" ValueType="System.String"
                                                            IncrementalFilteringMode="StartsWith"
                                                            EnableSynchronization="False"
                                                            DropDownStyle="DropDownList"
                                                            Width="280">
                                                            <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                <RequiredField IsRequired="True" />
                                                            </ValidationSettings>
                                                            <InvalidStyle BackColor="LightPink" />
                                                        </dx:ASPxComboBox>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="กรมธรรม์" Width="300">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer29" runat="server" SupportsDisabledAttribute="True">
                                                        <%--  <dx:ASPxRadioButtonList
                                                    DataSourceID="SqlDataSource_PolicyType"
                                                    TextField="Description" ValueField="InsureType" ValueType="System.Int32"
                                                    TextWrap="false"
                                                    ID="newBlank_PolicyType"
                                                    runat="server"
                                                    TextAlign="Right"
                                                    RepeatDirection="Horizontal">
                                                    <Border BorderStyle="None" />
                                                </dx:ASPxRadioButtonList>--%>
                                                        <dx:ASPxComboBox runat="server"
                                                            DataSourceID="SqlDataSource_PolicyType" DropDownButton-Visible="false"
                                                            TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                            ID="newBlank_PolicyType" ClientInstanceName="newBlank_PolicyType"
                                                            IncrementalFilteringMode="StartsWith"
                                                            SelectedIndex="0"
                                                            EnableSynchronization="False"
                                                            DropDownStyle="DropDownList">
                                                            <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                <RequiredField IsRequired="True" />
                                                            </ValidationSettings>
                                                            <InvalidStyle BackColor="LightPink" />
                                                            <ClientSideEvents SelectedIndexChanged="function(s, e) {
                                                                       validatepolicytype()
                                                                    }" />
                                                        </dx:ASPxComboBox>
                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="ลักษณะอู่" Width="300" CaptionSettings-VerticalAlign="Middle">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer27" runat="server" SupportsDisabledAttribute="True">
                                                        <dx:ASPxRadioButtonList
                                                            DataSourceID="SqlDataSource_Garage"
                                                            TextField="GarageName" ValueField="GarageID" ValueType="System.String"
                                                            TextWrap="false"
                                                            ID="newBlank_Garage"
                                                            runat="server"
                                                            TextAlign="Right"
                                                            SelectedIndex="0"
                                                            RepeatDirection="Horizontal">
                                                            <Border BorderStyle="None" />
                                                            <Paddings PaddingLeft="0px" />
                                                            <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                <RequiredField IsRequired="True" />
                                                            </ValidationSettings>
                                                            <InvalidStyle BackColor="LightPink" />
                                                        </dx:ASPxRadioButtonList>
                                                        <%--<dx:ASPxComboBox runat="server"
                                                    ID="ASPxComboBox3"
                                                    ClientInstanceName="ASPxComboBox3"
                                                    IncrementalFilteringMode="StartsWith"
                                                    EnableSynchronization="False"
                                                    DropDownStyle="DropDownList">
                                                    <ClearButton Visibility="True"></ClearButton>
                                                </dx:ASPxComboBox>--%>
                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="ผู้ขับขี่" Width="300" CaptionSettings-VerticalAlign="Middle">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer35" runat="server" SupportsDisabledAttribute="True">
                                                        <dx:ASPxRadioButtonList
                                                            TextField="Description" ValueField="InsureType" ValueType="System.Int32"
                                                            TextWrap="false"
                                                            ID="newBlank_Driver"
                                                            runat="server"
                                                            TextAlign="Right"
                                                            RepeatDirection="Horizontal">
                                                            <Items>
                                                                <dx:ListEditItem Text="ไม่ระบุ" Value="0" Selected="true" />
                                                                <dx:ListEditItem Text="1 คน" Value="1" />
                                                                <dx:ListEditItem Text="2 คน" Value="2" />

                                                            </Items>
                                                            <Border BorderStyle="None" />
                                                            <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                <RequiredField IsRequired="True" />
                                                            </ValidationSettings>
                                                            <InvalidStyle BackColor="LightPink" />
                                                        </dx:ASPxRadioButtonList>
                                                        <%-- <dx:ASPxComboBox runat="server"
                                                    ID="ASPxComboBox2"
                                                    ClientInstanceName="ASPxComboBox2"
                                                    IncrementalFilteringMode="StartsWith"
                                                    EnableSynchronization="False"
                                                    DropDownStyle="DropDownList">
                                                    <ClearButton Visibility="True"></ClearButton>
                                                </dx:ASPxComboBox>--%>
                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>

                                            <dx:LayoutItem Caption="ประเภทรถ">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer101" runat="server" SupportsDisabledAttribute="True">
                                                        <dx:ASPxComboBox ID="newBlank_CarType"
                                                            ClientInstanceName="newBlank_CarType" EnableCallbackMode="true"
                                                            runat="server" DropDownButton-Visible="false"
                                                            DropDownStyle="DropDownList"
                                                            DataSourceID="SqlDataSource_CarType"
                                                            TextField="CarTypeName"
                                                            ValueField="CarType"
                                                            SelectedIndex="0"
                                                            EnableSynchronization="True">
                                                            <ClientSideEvents SelectedIndexChanged="function(s, e) {
                                                                        //cbNewBlank_CarUse.PerformCallback(s.GetValue().toString());
                                                                        //newBlank_CarUse.PerformCallback(s.GetValue().toString());
                                                                        frmNewBlank_CallBack.PerformCallback('selected_newblank_cartype');
                                                                        //newBlank_CMI.PerformCallback(s.GetValue().toString()); 

                                                                    }" />
                                                            <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                <RequiredField IsRequired="True" />
                                                            </ValidationSettings>
                                                            <InvalidStyle BackColor="LightPink" />
                                                        </dx:ASPxComboBox>
                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="ลักษณะการใช้">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer181" runat="server" SupportsDisabledAttribute="True">
                                                        <dx:ASPxComboBox ID="newBlank_CarUse"
                                                            ClientInstanceName="newBlank_CarUse"
                                                            runat="server" DropDownButton-Visible="false"
                                                            DropDownStyle="DropDownList"
                                                            TextField="txtCarUse"
                                                            ValueField="CarUse"
                                                            SelectedIndex="0"
                                                            DataSourceID="SqlDataSource_CarUse"
                                                            IncrementalFilteringMode="StartsWith"
                                                            EnableSynchronization="False">
                                                            <ClientSideEvents SelectedIndexChanged="function(s, e) { 
                                                                                 
                                                                    //cbNewBlank_CarUse.PerformCallback(s.GetValue().toString()); 
                                                                    newBlank_CMI.PerformCallback(s.GetValue().toString()); 
                                                                    //frmNewBlank_CallBack.PerformCallback('selected_newblank_caruse');
                                                                    //cbNewBlank_CMI.PerformCallback(s.GetValue().toString());
                                                                  
                                                                    }" />
                                                            <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                <RequiredField IsRequired="True" />
                                                            </ValidationSettings>
                                                            <InvalidStyle BackColor="LightPink" />
                                                        </dx:ASPxComboBox>
                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>



                                        </Items>
                                    </dx:LayoutGroup>

                                    <%--ข้อมูลทุนประกันภัยและเงื่อนไขความคุ้มครอง--%>
                                    <dx:LayoutGroup Caption="ข้อมูลทุนประกันภัยและเงื่อนไขความคุ้มครอง"  ColCount="1" CellStyle-Paddings-Padding="1" GroupBoxDecoration="HeadingLine">
                                        <Items>
                                            <dx:TabbedLayoutGroup TabPosition="Left">
                                                <Items>

                                                    <dx:LayoutItem Caption="ความคุ้มครองหลัก" Width="550">

                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout runat="server" ColCount="4">
                                                                    <Items>
                                                                        <dx:LayoutItem Caption="บุคคลภายนอก (TPBI)">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer31" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer32" runat="server" SupportsDisabledAttribute="True">

                                                                                    <%--<dx:ASPxSpinEdit ID="newBlank_TPBI"
                                                            Caption="บาทต่อคน"
                                                            Width="100"
                                                            CaptionSettings-ShowColon="false"
                                                            CaptionSettings-Position="Right"
                                                            runat="server"
                                                            MaxLength="10"
                                                            DisplayFormatString="#,#"
                                                            Increment="1"
                                                            Number="0"
                                                            NumberType="Integer"
                                                            MinValue="0"
                                                            AllowMouseWheel="false">
                                                        </dx:ASPxSpinEdit>--%>


                                                                                    <dx:ASPxComboBox runat="server" CaptionSettings-Position="Right" Caption="บาทต่อคน"
                                                                                        DataSourceID="SqlDataSource_TPBIP"
                                                                                        AllowMouseWheel="false"
                                                                                        DropDownButton-Visible="false" Width="100"
                                                                                        CaptionSettings-ShowColon="false"
                                                                                        DisplayFormatString="#,#0"
                                                                                        TextField="Coverage" ValueField="Coverage" ValueType="System.String"
                                                                                        ID="newBlank_TPBI"
                                                                                        IncrementalFilteringMode="StartsWith"
                                                                                        SelectedIndex="0"
                                                                                        EnableSynchronization="False"
                                                                                        DropDownStyle="DropDownList">
                                                                                    </dx:ASPxComboBox>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>

                                                                        <dx:LayoutItem Caption="">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer34" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer69" runat="server" SupportsDisabledAttribute="True">

                                                                                    <%-- <dx:ASPxSpinEdit ID="newBlank_TPBITime" Width="100"
                                                            Caption="บาทต่อครั้ง"
                                                            AllowMouseWheel="false"
                                                            CaptionSettings-ShowColon="false"
                                                            CaptionSettings-Position="Right"
                                                            runat="server"
                                                            MaxLength="10"
                                                            DisplayFormatString="#,#"
                                                            Increment="1" Number="0" NumberType="Integer"
                                                            MinValue="0">
                                                        </dx:ASPxSpinEdit>--%>
                                                                                    <dx:ASPxComboBox runat="server" CaptionSettings-Position="Right" Caption="บาทต่อครั้ง"
                                                                                        DataSourceID="SqlDataSource_TPBIT" CaptionSettings-ShowColon="false"
                                                                                        AllowMouseWheel="false"
                                                                                        DropDownButton-Visible="false" Width="100"
                                                                                        DisplayFormatString="#,#0"
                                                                                        TextField="Coverage" ValueField="Coverage" ValueType="System.String"
                                                                                        ID="newBlank_TPBITime"
                                                                                        IncrementalFilteringMode="StartsWith"
                                                                                        SelectedIndex="0"
                                                                                        EnableSynchronization="False"
                                                                                        DropDownStyle="DropDownList">
                                                                                    </dx:ASPxComboBox>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>

                                                                        <dx:LayoutItem Caption="ทรัพย์สิน (TPPD)">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer72" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer73" runat="server" SupportsDisabledAttribute="True">

                                                                                    <%-- <dx:ASPxSpinEdit ID="newBlank_TPPD"
                                                            AllowMouseWheel="false"
                                                            Width="100"
                                                            Caption="บาทต่อครั้ง"
                                                            CaptionSettings-ShowColon="false"
                                                            CaptionSettings-Position="Right"
                                                            runat="server"
                                                            MaxLength="10"
                                                            DisplayFormatString="#,#"
                                                            Increment="1" Number="0" NumberType="Integer"
                                                            MinValue="0">
                                                        </dx:ASPxSpinEdit>--%>
                                                                                    <dx:ASPxComboBox runat="server" CaptionSettings-Position="Right" Caption="บาทต่อครั้ง"
                                                                                        DataSourceID="SqlDataSource_TPPD"
                                                                                        AllowMouseWheel="false" CaptionSettings-ShowColon="false"
                                                                                        DropDownButton-Visible="false" Width="100"
                                                                                        DisplayFormatString="#,#0"
                                                                                        TextField="Coverage" ValueField="Coverage" ValueType="System.String"
                                                                                        ID="newBlank_TPPD"
                                                                                        IncrementalFilteringMode="StartsWith"
                                                                                        SelectedIndex="0"
                                                                                        EnableSynchronization="False"
                                                                                        DropDownStyle="DropDownList">
                                                                                    </dx:ASPxComboBox>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                    </Items>

                                                                </dx:ASPxFormLayout>

                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>

                                                    <dx:LayoutItem Caption="ทุนประกันภัย" Width="550">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout ID="ASPxFormLayout3" runat="server" ColCount="2">
                                                                    <Items>

                                                                        <dx:LayoutItem Caption="ความเสียหายต่อตัวรถ (OD)">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer43" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer44" runat="server" SupportsDisabledAttribute="True">

                                                                                    <dx:ASPxSpinEdit ID="newBlank_OD" ClientInstanceName="newBlank_OD" SpinButtons-ShowIncrementButtons="false"
                                                                                        AllowMouseWheel="false" Width="100"
                                                                                        Caption="บาท" CaptionSettings-ShowColon="false"
                                                                                        CaptionSettings-Position="Right" runat="server"
                                                                                        MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem Caption="การสูญหายของรถยนต์">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer45" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer46" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_FnT1" ClientInstanceName="newBlank_FnT1"
                                                                                        AllowMouseWheel="false" SpinButtons-ShowIncrementButtons="false"
                                                                                        Width="100" Caption="บาท"
                                                                                        CaptionSettings-ShowColon="false"
                                                                                        CaptionSettings-Position="Right"
                                                                                        runat="server" MaxLength="10"
                                                                                        DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>

                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem Caption="และไฟไหม้ตัวรถยนต์ (F&T)">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer33" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer36" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_FnT2" ClientInstanceName="newBlank_FnT2"
                                                                                        AllowMouseWheel="false" SpinButtons-ShowIncrementButtons="false"
                                                                                        Width="100" Caption="บาท"
                                                                                        CaptionSettings-ShowColon="false"
                                                                                        CaptionSettings-Position="Right"
                                                                                        runat="server" MaxLength="10"
                                                                                        DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem Caption="ภัยน้ำท่วมต่อตัวรถยนต์">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer70" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem ShowCaption="False">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer71" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_Flood" ClientInstanceName="newBlank_Flood" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="100" Caption="บาท" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                    </Items>

                                                                </dx:ASPxFormLayout>
                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>

 
                                                    <dx:LayoutItem Caption="ประกันภัยอุบัติเหตุ(รย.01)" Width="550">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout ID="ASPxFormLayout4" runat="server" ColCount="2">
                                                                    <Items>
                                                                        <dx:LayoutItem Caption="เสียชีวิต สูญเสียอวัยวะ ทุพพลภาพถาวร">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer76" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem Caption="">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer37" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>

                                                                        <dx:LayoutItem Caption="ผู้ขับขี่คนที่ 1">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer39" runat="server" SupportsDisabledAttribute="True">
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem Caption="เงินเอาประกันภัย">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer38" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_ValueDriver1" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="100" Caption="บาท" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>

                                                                        <dx:LayoutItem Caption="ผู้โดยสาร">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer40" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_NumHuman1" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="50" Caption="คน" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                        <dx:LayoutItem Caption="เงินเอาประกันภัย">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer41" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_ValueSumHuman1" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="100" Caption="บาท" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                    </Items>

                                                                </dx:ASPxFormLayout>
                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>



                                                    <dx:LayoutItem Caption="ค่ารักษาพยาบาล (รย.02)" Width="550">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout ID="ASPxFormLayout6" runat="server" ColCount="1">
                                                                    <Items>
                                                                        <dx:LayoutItem Caption="ผู้ขับขี่และผู้โดยสารรวม">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer84" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_NumSumHuman" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="100" Caption="คน" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>

                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>

                                                                        <dx:LayoutItem Caption="เงินเอาประกันภัย">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer86" runat="server" SupportsDisabledAttribute="True">

                                                                                    <%-- <dx:ASPxSpinEdit ID="newBlank_ValueSumHuman" AllowMouseWheel="false" Width="100" Caption="บาท" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#"
                                                            Increment="1" Number="0" NumberType="Integer"
                                                            MinValue="0">
                                                        </dx:ASPxSpinEdit>--%>
                                                                                    <dx:ASPxComboBox runat="server" CaptionSettings-Position="Right" Caption="บาท"
                                                                                        DataSourceID="SqlDataSource_RY02"
                                                                                        AllowMouseWheel="false"
                                                                                        DropDownButton-Visible="false" Width="100"
                                                                                        CaptionSettings-ShowColon="false"
                                                                                        DisplayFormatString="#,#0"
                                                                                        TextField="Coverage" ValueField="Coverage" ValueType="System.String"
                                                                                        ID="newBlank_ValueSumHuman"
                                                                                        IncrementalFilteringMode="StartsWith"
                                                                                        SelectedIndex="0"
                                                                                        EnableSynchronization="False"
                                                                                        DropDownStyle="DropDownList">
                                                                                    </dx:ASPxComboBox>
                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>
                                                                    </Items>

                                                                </dx:ASPxFormLayout>
                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>

                                                    <dx:LayoutItem Caption="การประกันตัวผู้ขับขี่ (รย.03)" Width="550">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout ID="ASPxFormLayout5" runat="server" ColCount="1">
                                                                    <Items>
                                                                        <dx:LayoutItem Caption="เงินเอาประกันภัย">
                                                                            <LayoutItemNestedControlCollection>
                                                                                <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer92" runat="server" SupportsDisabledAttribute="True">
                                                                                    <dx:ASPxSpinEdit ID="newBlank_ValueInSure" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="100" Caption="บาท/ครั้ง" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                        Increment="1" Number="0" NumberType="Integer"
                                                                                        MinValue="0">
                                                                                    </dx:ASPxSpinEdit>



                                                                                </dx:LayoutItemNestedControlContainer>
                                                                            </LayoutItemNestedControlCollection>
                                                                        </dx:LayoutItem>

                                                                    </Items>

                                                                </dx:ASPxFormLayout>
                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>


                                                    
                                                    <dx:LayoutItem Caption="ค่าเสียหายส่วนแรก" Width="550">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout ID="ASPxFormLayout7" runat="server" ColCount="1">
                                                                    <Items>
                                                                         <dx:LayoutItem Caption="ความเสียหายส่วนแรก 1 (OD) ต่อตัวรถประกันภัย">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer42" runat="server" SupportsDisabledAttribute="True">
                                                                <dx:ASPxSpinEdit ID="newBlank_ValueFirst1" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="100" Caption="บาท/ครั้ง" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                    Increment="1" Number="0" NumberType="Integer"
                                                                    MinValue="0">
                                                                </dx:ASPxSpinEdit>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                                    </Items>

                                                                </dx:ASPxFormLayout>
                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>


                                                    
                                                    <dx:LayoutItem Caption="ส่วนลดต่างๆ" Width="550">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer>
                                                                <dx:ASPxFormLayout ID="ASPxFormLayout8" runat="server" ColCount="2">
                                                                    <Items>
                                                                          <dx:LayoutItem Caption="ส่วนลดกลุ่ม" CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer74" runat="server" SupportsDisabledAttribute="True">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxSpinEdit ID="newBlank_DiscountGroup" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="50" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                Increment="1" Number="0" NumberType="Integer"
                                                                                MinValue="0">
                                                                            </dx:ASPxSpinEdit>
                                                                        </td>
                                                                        <td>
                                                                            <%--<dx:ASPxComboBox runat="server" Width="50" ID="newBlank_DiscountGroupFlag" AllowMouseWheel="false" DropDownStyle="DropDownList">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                    </dx:ASPxComboBox>--%>

                                                                            <dx:ASPxRadioButtonList
                                                                                TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                                                TextWrap="false"
                                                                                ID="newBlank_DiscountGroupFlag"
                                                                                runat="server"
                                                                                TextAlign="Right"
                                                                                RepeatDirection="Horizontal">
                                                                                <Items>
                                                                                    <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                                    <dx:ListEditItem Text="บาท" Value="C" />

                                                                                </Items>
                                                                                <Border BorderStyle="None" />
                                                                            </dx:ASPxRadioButtonList>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <dx:LayoutItem Caption="ส่วนลดประวัติดี" CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer75" runat="server" SupportsDisabledAttribute="True">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxSpinEdit ID="newBlank_DiscountHistory" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" Width="50" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                Increment="1" Number="0" NumberType="Integer"
                                                                                MinValue="0">
                                                                            </dx:ASPxSpinEdit>
                                                                        </td>
                                                                        <td>
                                                                            <%--<dx:ASPxComboBox runat="server" Width="50" ID="newBlank_DiscountHistoryFlag" AllowMouseWheel="false" DropDownStyle="DropDownList">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                    </dx:ASPxComboBox>--%>
                                                                            <dx:ASPxRadioButtonList
                                                                                TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                                                TextWrap="false"
                                                                                ID="newBlank_DiscountHistoryFlag"
                                                                                runat="server"
                                                                                TextAlign="Right"
                                                                                RepeatDirection="Horizontal">
                                                                                <Items>
                                                                                    <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                                    <dx:ListEditItem Text="บาท" Value="C" />

                                                                                </Items>
                                                                                <Border BorderStyle="None" />
                                                                            </dx:ASPxRadioButtonList>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <dx:LayoutItem Caption="ส่วนลดอื่นๆ" CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer77" runat="server" SupportsDisabledAttribute="True">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxSpinEdit ID="newBlank_DiscountOther" SpinButtons-ShowIncrementButtons="false" Width="50" AllowMouseWheel="false" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                Increment="1" Number="0" NumberType="Integer"
                                                                                MinValue="0">
                                                                            </dx:ASPxSpinEdit>
                                                                        </td>
                                                                        <td>
                                                                            <%--<dx:ASPxComboBox runat="server" Width="50" ID="newBlank_DiscountOtherFlag" AllowMouseWheel="false" DropDownStyle="DropDownList">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                    </dx:ASPxComboBox>--%>
                                                                            <dx:ASPxRadioButtonList
                                                                                TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                                                TextWrap="false"
                                                                                ID="newBlank_DiscountOtherFlag"
                                                                                runat="server"
                                                                                TextAlign="Right"
                                                                                RepeatDirection="Horizontal">
                                                                                <Items>
                                                                                    <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                                    <dx:ListEditItem Text="บาท" Value="C" />

                                                                                </Items>
                                                                                <Border BorderStyle="None" />
                                                                            </dx:ASPxRadioButtonList>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <dx:LayoutItem Caption="ส่วนเพิ่มประวัติ" CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer78" runat="server" SupportsDisabledAttribute="True">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxSpinEdit ID="newBlank_AddHistory" Width="50" SpinButtons-ShowIncrementButtons="false" AllowMouseWheel="false" CaptionSettings-ShowColon="false" CaptionSettings-Position="Right" runat="server" MaxLength="10" DisplayFormatString="#,#0"
                                                                                Increment="1" Number="0" NumberType="Integer"
                                                                                MinValue="0">
                                                                            </dx:ASPxSpinEdit>
                                                                        </td>
                                                                        <td>
                                                                            <%-- <dx:ASPxComboBox runat="server" Width="50" ID="newBlank_AddHistoryFlag" AllowMouseWheel="false" DropDownStyle="DropDownList">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                    </dx:ASPxComboBox>--%>
                                                                            <dx:ASPxRadioButtonList
                                                                                TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                                                TextWrap="false"
                                                                                ID="newBlank_AddHistoryFlag"
                                                                                runat="server"
                                                                                TextAlign="Right"
                                                                                RepeatDirection="Horizontal">
                                                                                <Items>
                                                                                    <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                                    <dx:ListEditItem Text="บาท" Value="C" />

                                                                                </Items>
                                                                                <Border BorderStyle="None" />
                                                                            </dx:ASPxRadioButtonList>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                                    </Items>

                                                                </dx:ASPxFormLayout>
                                                            </dx:LayoutItemNestedControlContainer>

                                                        </LayoutItemNestedControlCollection>


                                                    </dx:LayoutItem>


                                                </Items>

                                            </dx:TabbedLayoutGroup>







 
 
 
                                        </Items>
                                    </dx:LayoutGroup>

                                    <%-- ข้อมูลเบี้ยประกันภัย/ข้อมูล พรบ.--%>
                                    <dx:LayoutGroup ShowCaption="False" ColCount="2" 
                                        CellStyle-Paddings-Padding="1" 
                                        GroupBoxStyle-Border-BorderWidth="0" 
                                        GroupBoxStyle-Caption-Paddings-Padding="0" 
                                        GroupBoxDecoration="None" 
                                        Width="300px">
                                        <Items>
                                            <dx:LayoutGroup Caption="ข้อมูลเบี้ยประกันภัย" ColCount="2" GroupBoxDecoration="HeadingLine" Width="330px">
                                                <Items>

                                                    <%--เบี้ยสุทธิ--%>
                                                    <dx:LayoutItem Caption="เบี้ยสุทธิ" Width="100">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer53"
                                                                runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer54" runat="server" SupportsDisabledAttribute="True">


                                                                <dx:ASPxSpinEdit CaptionSettings-RequiredMarkDisplayMode="Hidden" HorizontalAlign="Right"
                                                                    ID="newBlank_NetPremium" ClientInstanceName="newBlank_NetPremium"
                                                                    AllowMouseWheel="false" Width="80"
                                                                    Caption="บาท" CaptionSettings-ShowColon="false"
                                                                    CaptionSettings-Position="Right" runat="server" MaxLength="10"
                                                                    DisplayFormatString="#,#0"
                                                                    Increment="1" ShowOutOfRangeWarning="true" NumberType="Integer"
                                                                    SpinButtons-ShowIncrementButtons="false"
                                                                    MinValue="0">
                                                                    <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                        <RequiredField IsRequired="True" />
                                                                    </ValidationSettings>
                                                                    <InvalidStyle BackColor="LightPink" />

                                                                    <ClientSideEvents
                                                                        LostFocus="function (s, e) {
                                                                    CalPremium('C','C');
                                                                    //if(s.GetText()=='')
                                                                    //{
                                                                    //    newBlank_txtNetPremium.SetText('0.00')
                                                                    //}
                                                                    //else
                                                                    //{
                                                                    //    newBlank_txtNetPremium.SetText(s.GetText()); 
                                                                    //}
                                                                }" />
                                                                </dx:ASPxSpinEdit>

                                                                <%--<dx:ASPxLabel ID="newBlank_txtNetPremium" ClientInstanceName="newBlank_txtNetPremium" runat="server" Text="0.00"></dx:ASPxLabel>--%>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <%--อากร--%>
                                                    <dx:LayoutItem Caption="อากร">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer55" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer56" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 100px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtStamp" ClientInstanceName="newBlank_txtStamp" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                            &nbsp;บาท
                                                                        </td>

                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <%--ภาษี--%>
                                                    <dx:LayoutItem Caption="ภาษี">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer57" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer58" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 100px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtVat" ClientInstanceName="newBlank_txtVat" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                            &nbsp;บาท
                                                                        </td>

                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <%--เบี้ยสุทธิรวมภาษี--%>
                                                    <dx:LayoutItem Caption="เบี้ยรวมภาษีอากร">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer59" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer60" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 100px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtGrossPremium" ClientInstanceName="newBlank_txtGrossPremium" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                            &nbsp;บาท
                                                                        </td>

                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <%--ส่วนลด LWT--%>
                                                    <dx:LayoutItem Caption="ส่วนลด LWT" CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer47" runat="server" SupportsDisabledAttribute="True">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxSpinEdit ID="newBlank_DiscountspacialP" ClientInstanceName="newBlank_DiscountspacialP"
                                                                                Caption="%" HorizontalAlign="Right"
                                                                                SpinButtons-ShowIncrementButtons="false"
                                                                                AllowMouseWheel="false" Width="50"
                                                                                CaptionSettings-ShowColon="false"
                                                                                CaptionSettings-Position="Right"
                                                                                runat="server" MaxLength="10"
                                                                                DisplayFormatString="#,#0.000"
                                                                                Number="0" NumberType="Float"
                                                                                MinValue="0">
                                                                                <ClientSideEvents LostFocus="function (s, e) {CalPremium('P','C');}" />
                                                                            </dx:ASPxSpinEdit>
                                                                        </td>
                                                                        <td>
                                                                            <%-- <dx:ASPxComboBox runat="server" Width="50" ID="newBlank_DiscountspacialFlag" AllowMouseWheel="false" DropDownStyle="DropDownList">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                    </dx:ASPxComboBox>--%>
                                                                            <%--<dx:ASPxRadioButtonList
                                                                        TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                                        TextWrap="false"
                                                                        ID="newBlank_DiscountspacialFlag" ClientInstanceName="newBlank_DiscountspacialFlag"
                                                                        runat="server"
                                                                        TextAlign="Right"
                                                                        RepeatDirection="Horizontal">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />

                                                                        </Items>
                                                                        <Border BorderStyle="None" />
                                                                        <ClientSideEvents SelectedIndexChanged="function (s, e) {CalPremium();}" />
                                                                    </dx:ASPxRadioButtonList>--%>

                                                                 
                                                                        </td>

                                                                    </tr>
                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer49" runat="server" SupportsDisabledAttribute="True">

                                                                <dx:ASPxSpinEdit ID="newBlank_DiscountspacialC" ClientInstanceName="newBlank_DiscountspacialC"
                                                                    Caption="บาท" HorizontalAlign="Right"
                                                                    SpinButtons-ShowIncrementButtons="false"
                                                                    AllowMouseWheel="false" Width="80"
                                                                    CaptionSettings-ShowColon="false"
                                                                    CaptionSettings-Position="Right"
                                                                    runat="server" MaxLength="10"
                                                                    DisplayFormatString="#,#0.00"
                                                                    Number="0" NumberType="Float"
                                                                    MinValue="0">
                                                                    <ClientSideEvents LostFocus="function (s, e) {CalPremium('C','C');}" />
                                                                </dx:ASPxSpinEdit>
                                                                <%-- <table style="width: 80px; text-align: right;">
                                                            <tr>
                                                                <td>
                                                                  <dx:ASPxLabel ID="newBlank_txtDiscountspacial" ClientInstanceName="newBlank_txtDiscountspacial" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                    
                                                                    &nbsp;บาท
                                                                </td>

                                                            </tr>

                                                        </table>--%>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <%--จำนวนเงิน--%>
                                                    <dx:LayoutItem Caption="เบี้ยรวม">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer50" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer51" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 100px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtTotalPremium1" ClientInstanceName="newBlank_txtTotalPremium1" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                            &nbsp;บาท
                                                                        </td>

                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:EmptyLayoutItem></dx:EmptyLayoutItem>
                                                    <dx:EmptyLayoutItem></dx:EmptyLayoutItem>

                                                </Items>
                                            </dx:LayoutGroup>

                                            <dx:LayoutGroup Caption="ข้อมูล พรบ." ColCount="2" GroupBoxDecoration="HeadingLine">
                                                <Items>

                                                    <dx:LayoutItem Caption="ประเภทพรบ." ColSpan="2">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer30" runat="server" SupportsDisabledAttribute="True">
                                                                <dx:ASPxComboBox runat="server"
                                                                    ID="newBlank_CMI" ClientInstanceName="newBlank_CMI"
                                                                    SelectedIndex="0" DropDownButton-Visible="false"
                                                                    DataSourceID="SqlDataSource_CMI" Width="160"
                                                                    IncrementalFilteringMode="StartsWith"
                                                                    EnableSynchronization="False"
                                                                    DropDownStyle="DropDownList"
                                                                    TextField="CMI_Description"
                                                                    ValueField="CMI_PremiumCode">
                                                                    <ClientSideEvents SelectedIndexChanged="function(s, e) {     
                                                                            if (s.GetValue() == ' ' || s.GetValue() == null) {
                                                                               newBlank_CMINetPremium.SetEnabled(false);
                                                                               newBlank_DiscountCMIC.SetEnabled(false);
                                                                               newBlank_DiscountCMIP.SetEnabled(false);                                                                             
                                                                            }
                                                                            else
                                                                            {
                                                                               newBlank_CMINetPremium.SetEnabled(true);
                                                                               newBlank_DiscountCMIC.SetEnabled(true);
                                                                               newBlank_DiscountCMIP.SetEnabled(true);
                                                                            }

                                                                            cbNewBlank_CMI.PerformCallback(s.GetValue().toString()); 
                                                                            //frmNewBlank_CallBack.PerformCallback('selected_newblank_cmi');
                                                                            }" />

                                                                </dx:ASPxComboBox>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>


                                                    <%--เบี้ยสุทธิ--%>
                                                    <dx:LayoutItem Caption="เบี้ยสุทธิ">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer48" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer80" runat="server" SupportsDisabledAttribute="True">

                                                                <dx:ASPxSpinEdit CaptionSettings-RequiredMarkDisplayMode="Hidden" HorizontalAlign="Right"
                                                                    ID="newBlank_CMINetPremium" ClientInstanceName="newBlank_CMINetPremium"
                                                                    AllowMouseWheel="false" Width="80"
                                                                    Caption="บาท" CaptionSettings-ShowColon="false"
                                                                    CaptionSettings-Position="Right" runat="server" MaxLength="10"
                                                                    DisplayFormatString="#,#0"
                                                                    Increment="1" ShowOutOfRangeWarning="true" NumberType="Integer"
                                                                    SpinButtons-ShowIncrementButtons="false"
                                                                    MinValue="0">
                                                                    <ValidationSettings ErrorDisplayMode="None" Display="Dynamic">
                                                                        <RequiredField IsRequired="True" />
                                                                    </ValidationSettings>
                                                                    <InvalidStyle BackColor="LightPink" />

                                                                    <ClientSideEvents
                                                                        LostFocus="function (s, e) {
                                                                    CalPremium('C','C');
                                                                    //if(s.GetText()=='')
                                                                    //{
                                                                    //    newBlank_txtNetPremium.SetText('0.00')
                                                                    //}
                                                                    //else
                                                                    //{
                                                                    //    newBlank_txtNetPremium.SetText(s.GetText()); 
                                                                    //}
                                                                }" />
                                                                </dx:ASPxSpinEdit>


                                                                <%--<table style="width: 80px; text-align: right;">
                                                                        <tr>
                                                                            <td>
                                                                                <dx:ASPxLabel ID="newBlank_txtCMINetPremium" ClientInstanceName="newBlank_txtCMINetPremium" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                            </td>
                                                                            <td>&nbsp;บาท</td>
                                                                        </tr>

                                                                    </table>--%>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <%--อากร--%>
                                                    <dx:LayoutItem Caption="อากร">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer81" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer82" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 80px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtCMIStamp" ClientInstanceName="newBlank_txtCMIStamp" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                        </td>
                                                                        <td>&nbsp;บาท</td>
                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <%--ภาษี--%>
                                                    <dx:LayoutItem Caption="ภาษี">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer83" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer85" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 80px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtCMIVat" ClientInstanceName="newBlank_txtCMIVat" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                        </td>
                                                                        <td>&nbsp;บาท</td>
                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <%--เบี้ยสุทธิรวมภาษี--%>
                                                    <dx:LayoutItem Caption="เบี้ยรวมภาษีอากร">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer87" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer88" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 80px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtCMIGrossPremium" ClientInstanceName="newBlank_txtCMIGrossPremium" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                        </td>
                                                                        <td>&nbsp;บาท</td>
                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <%--ส่วนลด LWT--%>
                                                    <dx:LayoutItem Caption="ส่วนลด พรบ." CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer90" runat="server" SupportsDisabledAttribute="True">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxSpinEdit ID="newBlank_DiscountCMIP" ClientInstanceName="newBlank_DiscountCMIP"
                                                                                Caption="%" HorizontalAlign="Right"
                                                                                SpinButtons-ShowIncrementButtons="false"
                                                                                AllowMouseWheel="false" Width="50"
                                                                                CaptionSettings-ShowColon="false"
                                                                                CaptionSettings-Position="Right" runat="server"
                                                                                MaxLength="10" DisplayFormatString="#,#0.000"
                                                                                Increment="1" Number="0" NumberType="Integer"
                                                                                MinValue="0">
                                                                                <ClientSideEvents NumberChanged="function (s, e) {CalPremium('C','P');}" />
                                                                            </dx:ASPxSpinEdit>
                                                                        </td>
                                                                        <td>
                                                                            <%-- <dx:ASPxComboBox runat="server" Width="50" ID="newBlank_DiscountCMIFlag" AllowMouseWheel="false" DropDownStyle="DropDownList">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                    </dx:ASPxComboBox>--%>

                                                                            <%--<dx:ASPxRadioButtonList
                                                                        TextField="Description" ValueField="InsureType" ValueType="System.String"
                                                                        TextWrap="false"
                                                                        ID="newBlank_DiscountCMIFlag" ClientInstanceName="newBlank_DiscountCMIFlag"
                                                                        runat="server"
                                                                        TextAlign="Right"
                                                                        RepeatDirection="Horizontal">
                                                                        <Items>
                                                                            <dx:ListEditItem Text="%" Value="P" Selected="true" />
                                                                            <dx:ListEditItem Text="บาท" Value="C" />
                                                                        </Items>
                                                                        <Border BorderStyle="None" BorderWidth="0" />
                                                                        <ClientSideEvents SelectedIndexChanged="function (s, e) {CalPremium();}" />
                                                                    </dx:ASPxRadioButtonList>--%>
                                                                        </td>

                                                                    </tr>
                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer91" runat="server" SupportsDisabledAttribute="True">
                                                                <%-- <table>
                                                            <tr>
                                                                <td>
                                                                    <dx:ASPxLabel ID="newBlank_txtCMIDiscount" ClientInstanceName="newBlank_txtCMIDiscount" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                </td>
                                                                <td>&nbsp;บาท</td>
                                                            </tr>

                                                        </table>--%>
                                                                <dx:ASPxSpinEdit ID="newBlank_DiscountCMIC" ClientInstanceName="newBlank_DiscountCMIC"
                                                                    Caption="บาท" HorizontalAlign="Right"
                                                                    SpinButtons-ShowIncrementButtons="false"
                                                                    AllowMouseWheel="false" Width="50"
                                                                    CaptionSettings-ShowColon="false"
                                                                    CaptionSettings-Position="Right" runat="server"
                                                                    MaxLength="10" DisplayFormatString="#,#0.00"
                                                                    Increment="1" Number="0" NumberType="Integer"
                                                                    MinValue="0">
                                                                    <ClientSideEvents NumberChanged="function (s, e) {CalPremium('C','C');}" />
                                                                </dx:ASPxSpinEdit>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                    <%--จำนวนเงิน--%>
                                                    <dx:LayoutItem Caption="เบี้ยรวม">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer93" runat="server" SupportsDisabledAttribute="True">
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                    <dx:LayoutItem ShowCaption="False">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer94" runat="server" SupportsDisabledAttribute="True">

                                                                <table style="width: 80px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtCMITotalPremium1" ClientInstanceName="newBlank_txtCMITotalPremium1" runat="server" Text="0.00"></dx:ASPxLabel>
                                                                        </td>
                                                                        <td>&nbsp;บาท</td>
                                                                    </tr>

                                                                </table>

                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>

                                                </Items>
                                            </dx:LayoutGroup>

                                            <dx:LayoutGroup ShowCaption="False" ColCount="1" GroupBoxDecoration="None" Width="330px">
                                                <Items>
                                                    <dx:LayoutItem Caption="เบี้ยประกันภัยรวมภาษีอากรหลังหักส่วนลด" CaptionStyle-Font-Bold="true" CaptionSettings-VerticalAlign="Middle">
                                                        <LayoutItemNestedControlCollection>
                                                            <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer89" runat="server" SupportsDisabledAttribute="True">
                                                                <table style="width: 80px; text-align: right;">
                                                                    <tr>
                                                                        <td>
                                                                            <dx:ASPxLabel ID="newBlank_txtTotalPremium" ClientInstanceName="newBlank_txtTotalPremium" Font-Bold="true" Font-Size="Large" ForeColor="Blue" runat="server" Text="0.00">
                                                                            </dx:ASPxLabel>
                                                                        </td>
                                                                        <td>&nbsp;<b>บาท</b></td>
                                                                    </tr>

                                                                </table>
                                                            </dx:LayoutItemNestedControlContainer>
                                                        </LayoutItemNestedControlCollection>
                                                    </dx:LayoutItem>
                                                </Items>
                                            </dx:LayoutGroup>

                                        </Items>
                                    </dx:LayoutGroup>

                                </Items>



                            </dx:ASPxFormLayout>
                            <%--End frmNewBlank  --%>
                        </dx:PanelContent>
                    </PanelCollection>
                </dx:ASPxCallbackPanel>



                <dx:ASPxButton ID="btnSaveNewBlank" runat="server" Text="บันทึกข้อเสนอ" CausesValidation="true">
                    <Image IconID="save_save_16x16"></Image>
                    <%--  <ClientSideEvents Click="function(s, e) {
                                if(ASPxClientEdit.AreEditorsValid()) 
                                { 
                                    //LoadingPanel.Show();
                                    //cbSaveNewBlank.PerformCallback('');
                                }
                                else
                                {
                                    alert('กรุณากรอกข้อมูลให้ครบ');
                                }

                            }" />--%>
                </dx:ASPxButton>
                <%--      <dx:ASPxButton ID="ASPxButton2" runat="server" Text="Reset" AutoPostBack="false" CausesValidation="false">
                        <Image IconID="actions_cancel_16x16"></Image>

                        <ClientSideEvents Click="function(s, e) {
                                //ASPxClientEdit.ClearEditorsInContainerById('frmNewBlank'); 
                                //newBlank_CMI.PerformCallback('');
                                }" />
                    </dx:ASPxButton>--%>
            </dx:PopupControlContentControl>
        </ContentCollection>
    </dx:ASPxPopupControl>


    <dx:ASPxPopupControl ID="popupCoverage"
        ClientInstanceName="popupCoverage"
        runat="server"
        Modal="True"
        PopupHorizontalAlign="WindowCenter"
        PopupVerticalAlign="WindowCenter"
        HeaderText="เลือกความคุ้มครอง"
        ShowPageScrollbarWhenModal="true"
        Width="600"
        AllowDragging="true"
        EnableAnimation="true"
        EnableCallbackAnimation="true"
        EnableViewState="true"
        CloseAction="CloseButton">
        <ContentCollection>
            <dx:PopupControlContentControl ID="PopupControlContentControl1" runat="server">

                <%--    <dx:LinqServerModeDataSource ID="LinqServerModeDataSource_V_Product_Coverages" runat="server" ContextTypeName="DataClasses_CPSExt" TableName="V_Product_Coverages" />
                --%>


                <asp:SqlDataSource ID="SqlDataSource_MotorCoverage" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
                    SelectCommand="select * from V_MotorCoverage where RiskGroupID=3 "></asp:SqlDataSource>



                <dx:ASPxGridView ID="dgCoverage"
                    ClientInstanceName="dgCoverage"
                    runat="server"
                    KeyFieldName="CoverageID"
                    Width="100%"
                    AutoGenerateColumns="False"
                    DataSourceID="SqlDataSource_MotorCoverage"
                    EnableCallBacks="true"
                    EnableCallbackAnimation="true"
                    EnableCallbackCompression="true"
                    EnableRowsCache="true">

                    <%--start Grid Setting block--%>
                    <SettingsLoadingPanel Mode="ShowAsPopup" />
                    <SettingsBehavior EnableCustomizationWindow="true" EnableRowHotTrack="true" ProcessSelectionChangedOnServer="True" />

                    <SettingsDataSecurity AllowDelete="false" AllowEdit="false" AllowInsert="false" />
                    <GroupSummary>
                        <dx:ASPxSummaryItem SummaryType="Count" />
                    </GroupSummary>
                    <SettingsPager>
                        <PageSizeItemSettings Visible="true" Items="10, 20, 50" />
                    </SettingsPager>
                    <%--end Grid Setting block--%>

                    <Columns>
                        <dx:GridViewDataColumn Caption="เลือก" Width="30">
                            <DataItemTemplate>
                                <a href="javascript:void(0);" onclick="OnCoverageSelectClick(this, 'CID<%# Container.KeyValue %>')">เลือก</a>
                            </DataItemTemplate>
                            <CellStyle Wrap="False"></CellStyle>
                        </dx:GridViewDataColumn>

                        <dx:GridViewDataComboBoxColumn FieldName="Coverage1" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" Caption="ลักษณะการใช้" CellStyle-Wrap="False">
                            <PropertiesComboBox DataSourceID="SqlDataSource_CarUseType"
                                TextField="txtCarUse"
                                ValueField="CarUse">
                            </PropertiesComboBox>
                        </dx:GridViewDataComboBoxColumn>

                        <dx:GridViewDataComboBoxColumn FieldName="Coverage2" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False" Caption="ประเภท">
                            <PropertiesComboBox DataSourceID="SqlDataSource_PolType"
                                TextField="Description"
                                ValueField="InsureType">

                                <ValidationSettings RequiredField-IsRequired="true"></ValidationSettings>
                            </PropertiesComboBox>

                        </dx:GridViewDataComboBoxColumn>

                        <dx:GridViewDataComboBoxColumn FieldName="Coverage3" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" Caption="ประเภทอู่" CellStyle-Wrap="False">
                            <PropertiesComboBox DataSourceID="SqlDataSource_GarageType"
                                TextField="GarageName"
                                ValueField="GarageID">
                            </PropertiesComboBox>
                        </dx:GridViewDataComboBoxColumn>


                        <dx:GridViewDataTextColumn FieldName="Coverage4" Caption="ความรับผิด/คน"
                            Settings-AllowGroup="False"
                            Settings-AllowHeaderFilter="True"
                            PropertiesTextEdit-DisplayFormatString="{0:n0}">
                        </dx:GridViewDataTextColumn>
                        <dx:GridViewDataTextColumn FieldName="Coverage5" Settings-AllowGroup="False" Caption="ความรับผิด/ครั้ง" Settings-AllowHeaderFilter="True"></dx:GridViewDataTextColumn>
                        <dx:GridViewDataTextColumn FieldName="Coverage6" Settings-AllowGroup="False" Caption="ทรัพย์สิน" Settings-AllowHeaderFilter="True"></dx:GridViewDataTextColumn>

                        <dx:GridViewDataTextColumn FieldName="Coverage7" Settings-AllowGroup="False" Caption="ต่อตัวรถ" Settings-AllowHeaderFilter="False" CellStyle-Wrap="False"></dx:GridViewDataTextColumn>
                        <dx:GridViewDataTextColumn FieldName="Coverage8" Settings-AllowGroup="False" Caption="สูญหาย/ไฟไหม้" Settings-AllowHeaderFilter="False" CellStyle-Wrap="False"></dx:GridViewDataTextColumn>
                        <dx:GridViewDataTextColumn FieldName="Coverage9" Settings-AllowGroup="False" Caption="น้ำท่วม" Settings-AllowHeaderFilter="False" CellStyle-Wrap="False"></dx:GridViewDataTextColumn>



                        <dx:GridViewDataTextColumn FieldName="Coverage10" Settings-AllowGroup="False" Caption="PA ผู้ขับขี่" Settings-AllowHeaderFilter="False"></dx:GridViewDataTextColumn>
                        <%--<dx:GridViewDataTextColumn FieldName="Coverage11" Settings-AllowGroup="False" Caption="ผู้โดยสาร" Settings-AllowHeaderFilter="False"  ></dx:GridViewDataTextColumn>--%>
                        <dx:GridViewDataTextColumn FieldName="Coverage12" Settings-AllowGroup="False" Caption="PA ผู้โดยสาร" Settings-AllowHeaderFilter="False"></dx:GridViewDataTextColumn>

                        <dx:GridViewDataTextColumn FieldName="Coverage13" Settings-AllowGroup="False" Caption="ค่ารักษาพยาบาล" Settings-AllowHeaderFilter="False"></dx:GridViewDataTextColumn>
                        <dx:GridViewDataTextColumn FieldName="Coverage14" Settings-AllowGroup="False" Caption="การประกันตัว" Settings-AllowHeaderFilter="False"></dx:GridViewDataTextColumn>
                        <dx:GridViewDataTextColumn FieldName="Coverage15" Settings-AllowGroup="False" Caption="Deduct" Settings-AllowHeaderFilter="False"></dx:GridViewDataTextColumn>




                    </Columns>


                </dx:ASPxGridView>



            </dx:PopupControlContentControl>
        </ContentCollection>

    </dx:ASPxPopupControl>

    <dx:ASPxPopupControl ID="popupPremium"
        ClientInstanceName="popupPremium"
        runat="server"
        Modal="True"
        PopupHorizontalAlign="WindowCenter"
        PopupVerticalAlign="WindowCenter"
        HeaderText="เลือกความคุ้มครอง"
        ShowPageScrollbarWhenModal="true"
        Width="600"
        AllowDragging="true"
        EnableAnimation="true"
        EnableCallbackAnimation="true"
        EnableViewState="true"
        CloseAction="CloseButton">
        <ContentCollection>
            <dx:PopupControlContentControl ID="PopupControlContentControl3" runat="server">


                <asp:SqlDataSource ID="SqlDataSource_V_MotorCampaignPublish" runat="server"
                    ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
                    SelectCommand="select * from V_MotorCampaignPublish where RiskGroupID=3 ">

                    <%--  <SelectParameters>
                        <asp:Parameter Name="UserName" />
                        <asp:SessionParameter Name="ProjectID" SessionField="ProjectID" />
                    </SelectParameters>--%>
                </asp:SqlDataSource>



                <dx:ASPxGridView ID="dgPremium"
                    ClientInstanceName="dgPremium"
                    runat="server"
                    KeyFieldName="PremiumID"
                    Width="100%"
                    AutoGenerateColumns="False"
                    DataSourceID="SqlDataSource_V_MotorCampaignPublish"
                    EnableCallBacks="true"
                    EnableCallbackAnimation="true"
                    EnableCallbackCompression="true"
                    EnableRowsCache="true">

                    <%--start Grid Setting block--%>
                    <SettingsLoadingPanel Mode="ShowAsPopup" />
                    <SettingsBehavior EnableCustomizationWindow="true" EnableRowHotTrack="true" ProcessSelectionChangedOnServer="True" />

                    <SettingsDataSecurity AllowDelete="false" AllowEdit="false" AllowInsert="false" />
                    <GroupSummary>
                        <dx:ASPxSummaryItem SummaryType="Count" />
                    </GroupSummary>
                    <SettingsPager>
                        <PageSizeItemSettings Visible="true" Items="10, 20, 50" />
                    </SettingsPager>
                    <%--end Grid Setting block--%>

                    <Columns>
                        <dx:GridViewDataColumn Caption="เลือก" Width="30">
                            <DataItemTemplate>
                                <a href="javascript:void(0);" onclick="OnPremiumSelectClick(this, 'PID<%# Container.KeyValue %>')">เลือก</a>
                            </DataItemTemplate>
                            <CellStyle Wrap="False"></CellStyle>
                        </dx:GridViewDataColumn>
                        <dx:GridViewDataColumn FieldName="ProjectCode" Caption="Project" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>
                        <dx:GridViewDataColumn FieldName="UWName" Caption="บริษัทประกัน" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>
                        <%--                        <dx:GridViewDataComboBoxColumn FieldName="Underwriter" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" Caption="ประกันภัย" CellStyle-Wrap="False">
                            <PropertiesComboBox DataSourceID="SqlDataSource_Underwriter"
                                TextField="AccountContact"
                                ValueField="Underwriter">
                            </PropertiesComboBox>
                        </dx:GridViewDataComboBoxColumn>--%>

                        <dx:GridViewDataComboBoxColumn FieldName="Coverage1" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" Caption="ลักษณะการใช้" CellStyle-Wrap="False">
                            <PropertiesComboBox DataSourceID="SqlDataSource_CarUseType"
                                TextField="txtCarUse"
                                ValueField="CarUse">
                            </PropertiesComboBox>
                        </dx:GridViewDataComboBoxColumn>

                        <dx:GridViewDataComboBoxColumn FieldName="Coverage2" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False" Caption="ประเภท">
                            <PropertiesComboBox DataSourceID="SqlDataSource_PolType"
                                TextField="Description"
                                ValueField="InsureType">

                                <ValidationSettings RequiredField-IsRequired="true"></ValidationSettings>
                            </PropertiesComboBox>

                        </dx:GridViewDataComboBoxColumn>

                        <dx:GridViewDataComboBoxColumn FieldName="Coverage3" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" Caption="ประเภทอู่" CellStyle-Wrap="False">
                            <PropertiesComboBox DataSourceID="SqlDataSource_GarageType"
                                TextField="GarageName"
                                ValueField="GarageID">
                            </PropertiesComboBox>
                        </dx:GridViewDataComboBoxColumn>

                        <dx:GridViewDataColumn FieldName="Brand" Caption="ยี่ห้อ" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>
                        <dx:GridViewDataColumn FieldName="Model" Caption="รุ่น" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>

                        <dx:GridViewDataColumn FieldName="CarAge" Caption="อายุรถ" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>
                        <dx:GridViewDataColumn FieldName="SumInsuredFrom" Caption="ทุนจาก" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>
                        <dx:GridViewDataColumn FieldName="SumInsuredTo" Caption="ถึงทุน" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>

                        <dx:GridViewDataColumn FieldName="SinglePrice" Caption="เบี้ยประกัน" Settings-AllowHeaderFilter="True" Settings-AllowGroup="False" CellStyle-Wrap="False"></dx:GridViewDataColumn>





                    </Columns>


                </dx:ASPxGridView>





            </dx:PopupControlContentControl>
        </ContentCollection>

    </dx:ASPxPopupControl>

    <dx:ASPxPopupControl ID="popupCoverageMoreDetails" ClientInstanceName="popupCoverageMoreDetails" runat="server" AllowDragging="true" PopupHorizontalAlign="OutsideRight" ShowHeader="false">
        <ContentCollection>
            <dx:PopupControlContentControl ID="PopupControlContentControl4" runat="server">
                <dx:ASPxCallbackPanel ID="callbackCoveragePanel" ClientInstanceName="callbackCoveragePanel" runat="server"
                    Width="320px" Height="100px" RenderMode="Table">
                    <PanelCollection>
                        <dx:PanelContent ID="PanelContent1" runat="server">

                            <dx:ASPxFormLayout ID="ASPxFormLayout1" runat="server" AlignItemCaptionsInAllGroups="True" ColCount="1" RequiredMarkDisplayMode="None" ShowItemCaptionColon="true">
                                <Items>
                                    <dx:LayoutGroup Caption="รายละเอียดอื่นๆ" GroupBoxDecoration="HeadingLine" Width="330px">
                                        <Items>
                                            <dx:LayoutItem Caption="เลขอ้างอิง">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer63" runat="server" SupportsDisabledAttribute="True">

                                                        <dx:ASPxLabel ID="moreReferenceNo" runat="server" Text=""></dx:ASPxLabel>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="ยี่ห้อ">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer64" runat="server" SupportsDisabledAttribute="True">

                                                        <dx:ASPxLabel ID="moreCarBrandName" runat="server" Text=""></dx:ASPxLabel>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="รุ่น">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer65" runat="server" SupportsDisabledAttribute="True">

                                                        <dx:ASPxLabel ID="moreCarModelName" runat="server" Text=""></dx:ASPxLabel>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                        </Items>
                                    </dx:LayoutGroup>


                                </Items>
                            </dx:ASPxFormLayout>

                        </dx:PanelContent>
                    </PanelCollection>
                </dx:ASPxCallbackPanel>
            </dx:PopupControlContentControl>
        </ContentCollection>
        <ClientSideEvents Shown="popupCoverage_Shown" />
    </dx:ASPxPopupControl>

    <dx:ASPxPopupControl ID="popupPremiumMoreDetails" ClientInstanceName="popupPremiumMoreDetails" runat="server" AllowDragging="true" PopupHorizontalAlign="OutsideRight" ShowHeader="false">
        <ContentCollection>
            <dx:PopupControlContentControl ID="PopupControlContentControl5" runat="server">
                <dx:ASPxCallbackPanel ID="callbackPremiumPanel" ClientInstanceName="callbackPremiumPanel" runat="server"
                    Width="320px" Height="100px" RenderMode="Table">
                    <PanelCollection>
                        <dx:PanelContent ID="PanelContent4" runat="server">

                            <dx:ASPxFormLayout ID="ASPxFormLayout2" runat="server" AlignItemCaptionsInAllGroups="True" ColCount="1" RequiredMarkDisplayMode="None" ShowItemCaptionColon="true">
                                <Items>
                                    <dx:LayoutGroup Caption="รายละเอียดอื่นๆ" GroupBoxDecoration="HeadingLine" Width="330px">
                                        <Items>
                                            <dx:LayoutItem Caption="เลขอ้างอิง">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer66" runat="server" SupportsDisabledAttribute="True">

                                                        <dx:ASPxLabel ID="ASPxLabel1" runat="server" Text=""></dx:ASPxLabel>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="ยี่ห้อ">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer67" runat="server" SupportsDisabledAttribute="True">

                                                        <dx:ASPxLabel ID="ASPxLabel2" runat="server" Text=""></dx:ASPxLabel>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                            <dx:LayoutItem Caption="รุ่น">
                                                <LayoutItemNestedControlCollection>
                                                    <dx:LayoutItemNestedControlContainer ID="LayoutItemNestedControlContainer68" runat="server" SupportsDisabledAttribute="True">

                                                        <dx:ASPxLabel ID="ASPxLabel3" runat="server" Text=""></dx:ASPxLabel>

                                                    </dx:LayoutItemNestedControlContainer>
                                                </LayoutItemNestedControlCollection>
                                            </dx:LayoutItem>
                                        </Items>
                                    </dx:LayoutGroup>


                                </Items>
                            </dx:ASPxFormLayout>

                        </dx:PanelContent>
                    </PanelCollection>
                </dx:ASPxCallbackPanel>
            </dx:PopupControlContentControl>
        </ContentCollection>
        <ClientSideEvents Shown="popupPremium_Shown" />
    </dx:ASPxPopupControl>

    <%--======================callback control===================--%>
    <dx:ASPxCallback runat="server" ID="cbSaveNewBlank" ClientInstanceName="cbSaveNewBlank">
        <ClientSideEvents CallbackComplete="function(s,e){
                e.processOnServer = false;
                popupNewBlank.Hide();   
                LoadingPanel.Hide();                         
                SubQuoteGrid.Refresh();
                }" />
    </dx:ASPxCallback>
    <%--        <dx:ASPxCallback runat="server" ID="cbSaveQuotation" ClientInstanceName="cbSaveQuotation">
            <ClientSideEvents CallbackComplete="function(s,e){
    e.processOnServer = false;   
    LoadingPanel.Hide(); 
    }" />
        </dx:ASPxCallback>--%>
    <dx:ASPxCallback runat="server" ID="cbQDIDSelected" ClientInstanceName="cbQDIDSelected" OnCallback="SubQuoteGrid_Select_click">
        <ClientSideEvents CallbackComplete="function(s,e){
                                            if (e.result != '' && e.result != null) {
                                                alert(e.result);
                                                LoadingPanel.Hide(); 
                                            } 
                }" />
    </dx:ASPxCallback>
    <dx:ASPxCallback runat="server" ID="cbQDIDDelete" ClientInstanceName="cbQDIDDelete" OnCallback="SubQuoteGrid_Delete_click">
        <ClientSideEvents CallbackComplete="function(s,e){
    e.processOnServer = false;
                                            if (e.result != '' && e.result != null) {
                                               
                                                
                                                //
                                                // 
                                                //SubQuoteGrid.PerformCallback();
                                            //SubQuoteGrid.ApplySearchPanelFilter(''); 
                                             //alert(e.result);
                                            
    
                                            }
    SubQuoteGrid.Refresh();
      
                                            
    
    }" />
    </dx:ASPxCallback>

    <%--
            <dx:ASPxCallback runat="server" ID="cbNewBlank_CarUse" ClientInstanceName="cbNewBlank_CarUse">
            <ClientSideEvents CallbackComplete="function(s,e){
                                //alert(e.result);
                                //newBlank_CMI.PerformCallback(e.result);                               
                                //newBlank_txtCMINetPremium.SetText(e.result); 
                                //CalPremium('C','C');
                                }" />
        </dx:ASPxCallback>--%>

    <dx:ASPxCallback runat="server" ID="cbNewBlank_CMI" ClientInstanceName="cbNewBlank_CMI">
        <ClientSideEvents CallbackComplete="function(s,e){                              
                                //newBlank_txtCMINetPremium.SetText(e.result); 
                                newBlank_CMINetPremium.SetValue(e.result); 
                                CalPremium('C','C');
                                }" />
    </dx:ASPxCallback>

    <dx:ASPxCallback runat="server" ID="cbSelectedCoverage" ClientInstanceName="cbSelectedCoverage">
        <ClientSideEvents CallbackComplete="function(s,e){
                    e.processOnServer = false;
                    popupNewBlank.Show();   
                    popupCoverage.Hide(); 
                    LoadingPanel.Hide();  
                      alert(e.result);  
                }" />
    </dx:ASPxCallback>

    <dx:ASPxCallback runat="server" ID="cbSelectedPremium" ClientInstanceName="cbSelectedPremium">
        <ClientSideEvents CallbackComplete="function(s,e){
                    e.processOnServer = false;
                    popupNewBlank.Show();   
                    popupPremium.Hide(); 
                    LoadingPanel.Hide();    
                    alert(e.result);
                     
                }" />
    </dx:ASPxCallback>






    <asp:SqlDataSource ID="SqlDataSource_CarUseType" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>" SelectCommand="select CarUse, CarUse + ' - ' + txtCarUse as  txtCarUse from tblCarUse order by CarUse"></asp:SqlDataSource>


    <asp:SqlDataSource ID="SqlDataSource_PolType" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        SelectCommand=" SELECT  * from tblPolicyType "></asp:SqlDataSource>

    <asp:SqlDataSource ID="SqlDataSource_GarageType" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        SelectCommand=" SELECT  * from tblGarageType order by ShowID "></asp:SqlDataSource>

    <asp:SqlDataSource ID="SqlDataSource_Underwriter" runat="server" ConnectionString="<%$ ConnectionStrings:CPSConnectionString %>"
        SelectCommand="SELECT rtrim(AccountContact) as AccountContact, rtrim(Underwriter) as Underwriter  FROM [Register.Unwriter] order by AccountContact"></asp:SqlDataSource>


</asp:Content>
